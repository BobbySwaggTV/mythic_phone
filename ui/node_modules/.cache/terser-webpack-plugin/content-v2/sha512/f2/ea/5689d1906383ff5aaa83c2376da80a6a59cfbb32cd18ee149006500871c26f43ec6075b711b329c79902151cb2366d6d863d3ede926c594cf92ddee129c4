{"code":"!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);var a={ROOT_ADDRESS:\"http://mythic_phone2\",Apps:[{name:\"Contacts\",container:\"contacts\",icon:'<i class=\"fas fa-address-book\"></i>',color:\"#006064\",unread:0,enabled:!0},{name:\"Phone\",container:\"phone\",icon:'<i class=\"fas fa-phone\"></i>',color:\"#01579b\",unread:10,enabled:!0},{name:\"Messages\",container:\"message\",path:\"messages/messages.html\",icon:'<i class=\"fas fa-comment-alt\"></i>',color:\"#311b92\",unread:1,enabled:!0},{name:\"Bank\",container:\"bank\",icon:'<i class=\"fas fa-university\"></i>',color:\"#b71c1c\",unread:0,enabled:!0},{name:\"Twitter\",container:\"twitter\",icon:'<i class=\"fab fa-twitter\"></i>',color:\"#039be5\",unread:1,enabled:!0},{name:\"Yellow Pages\",container:\"ads\",icon:'<i class=\"fas fa-ad\"></i>',color:\"#f9a825\",unread:0,enabled:!0},{name:\"IRC\",container:\"irc\",icon:'<i class=\"fas fa-comment-slash\"></i>',color:\"#1de9b6\",unread:55,enabled:!0},{name:\"Tuner\",container:\"tuner\",icon:'<i class=\"fas fa-tools\"></i>',color:\"#004d40\",unread:0,enabled:!0},{name:\"Settings\",container:\"settings\",icon:'<i class=\"fas fa-cogs\"></i>',color:\"#404040\",unread:0,enabled:!0}]};function r(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function o(e,t){var n=s(e);n.splice(t,1),r(e,n)}function s(e){return JSON.parse(window.localStorage.getItem(e))}var c={SetupData:function(e){$.each(e,(function(e,t){window.localStorage.setItem(t.name,JSON.stringify(t.data))}))},StoreData:r,AddData:function(e,t){var n=s(e);n.push(t),r(e,n)},RemoveData:o,RemoveObjectData:function(e,t,n){var a=s(e);$.each(a,(function(a,r){if(r[t]==n)return o(e,a),!1}))},UpdateData:function(e,t,n){var a=s(e);a[t]=n,r(e,a)},GetData:s,ClearData:function(){window.localStorage.clear()},StoreDataLua:function(e,t){$.post(a.ROOT_ADDRESS+\"/RegiseterData\",JSON.stringify({key:e,data:t}))},GetDataLua:function(e){$.post(a.ROOT_ADDRESS+\"/GetData\",JSON.stringify({key:e}),(function(e){return e}))}};var i={DateSortNewest:function(e,t){return null!=e.time?e.time<t.time?1:-1:e.date<t.date?1:-1},DateSortOldest:function(e,t){return null!=e.time?e.time>t.time?1:-1:e.date>t.date?1:-1},UpdateClock:function(e){$(\".time span\").html(e)},NotifyAltSim:function(e){e?$(\".simcard\").fadeIn():$(\".simcard\").fadeOut()},NotifyPayphone:function(e){e?$(\".payphone\").fadeIn():$(\".payphone\").fadeOut()},SetMute:function(e){e?($(\".mute\").html('<i class=\"fas fa-volume-mute\"></i>'),$(\".mute\").removeClass(\"not-muted\").addClass(\"muted\"),c.StoreData(\"muted\",!0)):($(\".mute\").html('<i class=\"fas fa-volume-up\"></i>'),$(\".mute\").removeClass(\"muted\").addClass(\"not-muted\"),c.StoreData(\"muted\",!1))}},l=null;var u={Alert:function(e,t){null!=l||$(\".phone-notif-container\").html(e).show(\"slide\",{direction:\"up\"},500,(function(){l=setTimeout((function(){$(\".phone-notif-container\").hide(\"slide\",{direction:\"up\"},500,(function(){$(\".phone-notif-container\").html(\"\"),l=null}))}),null==t?2500:t)}))}},d=null;function p(){d=c.GetData(\"apps\"),$.each(d,(function(e,t){if(console.log(t.name),t.enabled){t.unread>0?$(\".inner-app\").append('<div class=\"app-button\" data-tooltip=\"'+t.name+'\"><div class=\"app-icon\" id=\"'+t.container+'-app\" style=\"background-color: '+t.color+'\"> '+t.icon+'<div class=\"badge pulse\">'+t.unread+\"</div></div></div>\"):$(\".inner-app\").append('<div class=\"app-button\" data-tooltip=\"'+t.name+'\"><div class=\"app-icon\" id=\"'+t.container+'-app\" style=\"background-color: '+t.color+'\"> '+t.icon+\"</div></div>\");var n=$(\"#home-container .app-button:last-child\");n.tooltip({enterDelay:0,exitDelay:0,inDuration:0}),n.data(\"container\",t.container)}}))}$(\".phone-screen\").on(\"click\",\"#home-container .app-button\",(function(e){Ot.OpenApp($(this).data(\"container\"))}));var f={OpenApp:p,ToggleApp:function(e,t){var n=Apps.filter((function(t){return t.container===e}))[0];t?(n.enabled=!0,p()):($(\"#\"+n.container+\"-app\").parent().fadeOut(),n.enabled=!1)},UpdateUnread:function(e,t){null==d&&(d=c.GetData(\"apps\")),$.each(d,(function(n,a){if(a.container==e)return a.unread=t,!1})),c.StoreData(\"apps\",d),p()}},m=null,v=null,h=null,g=new Object;function b(){clearInterval(v),$(\".call-avatar\").addClass(\"call-connected\").removeClass(\"call-pending\"),$(\".phone-header\").removeClass(\"in-call\"),null==h&&(g.seconds=0,g.minutes=0,g.hours=0,h=setInterval((function(){g.seconds<59?g.seconds++:g.minutes<60?(g.seconds=0,g.minutes++):(g.seconds=0,g.minutes=0,g.hours++);var e=g.seconds,t=g.minutes;e<10&&(e=\"0\"+e),t<10&&(t=\"0\"+t),$(\".call-number .call-timer\").html(g.hours+\":\"+t+\":\"+e),$(\".phone-header .in-call\").html('<i class=\"fas fa-phone\"></i> '.concat(g.hours,\":\").concat(t,\":\").concat(e))}),1e3),$(\".phone-header .in-call\").fadeOut())}$(\".call-action-mutesound\").on(\"click\",(function(e){$(this).data(\"active\")?($(this).html('<i class=\"fas fa-volume-mute\"></i><span>Mute Sound</span>'),$(this).data(\"active\",!1)):($(this).html('<i class=\"fas fa-volume-up\"></i><span>Unmute Sound</span>'),$(this).data(\"active\",!0))})),$(\".call-action-mutemic\").on(\"click\",(function(e){$(this).data(\"active\")?($(this).html('<i class=\"fas fa-microphone-slash\"></i><span>Mute Mic</span>'),$(this).data(\"active\",!1)):($(this).html('<i class=\"fas fa-microphone\"></i><span>Unmute Mic</span>'),$(this).data(\"active\",!0))})),$(\"#end-call\").on(\"click\",(function(e){$.post(a.ROOT_ADDRESS+\"/EndCall\",JSON.stringify())})),$(\"#answer-call\").on(\"click\",(function(e){$.post(a.ROOT_ADDRESS+\"/AcceptCall\",JSON.stringify({}))}));var y={OpenApp:function(e){if(null==h&&null!=e)if(m=c.GetData(\"contacts\"),e.receiver){$(\".call-button#answer-call\").show(),$(\"#phone-call-container\").data(\"data\",e);var t=m.filter((function(t){return t.number==e.number}))[0];null!=t?($(\"#phone-call-container\").addClass(\"other-\"+t.name[0].toString().toLowerCase()),$(\".call-number .call-number-text\").html(t.name),$(\".call-number .call-subnumber\").html(t.number),$(\".call-header .call-avatar\").html(t.name[0])):($(\".call-number .call-number-text\").html(e.number),$(\".call-number .call-subnumber\").html(\"\"),$(\".call-header .call-avatar\").html(\"#\")),$(\".call-avatar\").addClass(\"call-pending\");var n=\"\";clearInterval(v),v=setInterval((function(){\"...\"===n?n=\"\":n+=\".\",$(\".call-number .call-timer\").html(\"Incoming \"+n)}),500)}else{$(\".call-button#answer-call\").hide(),$(\"#phone-call-container\").data(\"data\",e);var a=m.filter((function(t){return t.number==e.number}))[0];null!=a?($(\"#phone-call-container\").addClass(\"other-\"+a.name[0].toString().toLowerCase()),$(\".call-number .call-number-text\").html(a.name),$(\".call-number .call-subnumber\").html(a.number),$(\".call-header .call-avatar\").html(a.name[0])):($(\".call-number .call-number-text\").html(e.number),$(\".call-number .call-subnumber\").html(\"\"),$(\".call-header .call-avatar\").html(\"#\")),$(\".call-avatar\").addClass(\"call-pending\");var r=\"\";clearInterval(v),v=setInterval((function(){\"...\"===r?r=\"\":r+=\".\",$(\".call-number .call-timer\").html(\"Calling \"+r)}),500)}else b()},CloseApp:function(){if(null!=h)return $(\".phone-header\").addClass(\"in-call\"),void $(\".phone-header .in-call\").fadeIn();m=null,clearInterval(v),v=null,$(\"#phone-call-container\").attr(\"class\",\"app-container\"),$(\".call-avatar\").attr(\"class\",\"call-avatar\"),$(\".call-number .call-timer\").html(\"Calling\"),$(\"#phone-call-container\").removeData(\"data\"),$(\".call-number .call-number-text\").html(\"\"),$(\".call-number .call-subnumber\").html(\"\"),$(\".call-action-mutemic\").html('<i class=\"fas fa-microphone-slash\"></i><span>Mute Mic</span>'),$(\".call-action-mutesound\").html('<i class=\"fas fa-volume-mute\"></i><span>Mute Sound</span>')},IsCallPending:function(){return null!=v||null!=h},CallAnswered:b,CallHungUp:function(){$(\".call-number .call-timer\").html(\"ENDED\"),clearInterval(h),clearInterval(v),h=null,v=null,$(\".call-avatar\").addClass(\"call-disconnected\").removeClass(\"call-connected\").removeClass(\"call-pending\"),$(\".phone-header\").attr(\"class\",\"phone-header\"),$(\".phone-header .in-call\").fadeOut(\"fast\",(function(){$(\".phone-header .in-call\").html('<i class=\"fas fa-phone\"></i>')})),setTimeout((function(){$(\".call-number .call-timer\").html(\"Calling\"),$(\".call-avatar\").attr(\"class\",\"call-avatar\"),\"phone-call\"==Ot.GetCurrentApp()&&(Ot.GoBack(),setTimeout((function(){$(\"#phone-call-container\").attr(\"class\",\"app-container\")}),500))}),2500)}},k=null,w=null,O=null,D=null;function A(e){var t=w.filter((function(t){return t.number==e}))[0];null!=t?($(\".keypad-top .contact-display\").html(t.name),$(\".keypad-top .contact-display\").fadeIn()):$(\".keypad-top .contact-display\").fadeOut()}function C(){var e=$(\".keypad-top #type\").val();\"#\"===e[0]?($(\".keypad-top .call-type\").html(\"Calling Anonymously\"),$(\".keypad-top .call-type\").is(\":hidden\")&&$(\".keypad-top .call-type\").fadeIn()):\"*\"==e[0]?($(\".keypad-top .call-type\").html(\"Calling UNK\"),$(\".keypad-top .call-type\").is(\":hidden\")&&$(\".keypad-top .call-type\").fadeIn()):$(\".keypad-top .call-type\").is(\":visible\")&&$(\".keypad-top .call-type\").fadeOut(\"fast\",(function(){$(\".keypad-top .call-type\").html(\"CALL TYPE\")}))}function S(e,t,n){console.log(e),$.post(a.ROOT_ADDRESS+\"/CreateCall\",JSON.stringify({number:e,nonStandard:t}),(function(a){a>0?Ot.OpenApp(\"phone-call\",{number:e,nonStandard:t,receiver:n}):-2==a?u.Alert(\"Can't Call Yourself, Idiot\"):-3==a?u.Alert(\"Number is Busy\"):u.Alert(\"Number Not Currently Active\")}))}$(\"#screen-content\").on(\"click\",\".phone-nav-button\",(function(e){if(!$(this).hasClass(\"active-nav\")){var t=$(\".active-nav\").data(\"nav\");$(\".active-nav\").removeClass(\"active-nav\");var n=$(this).data(\"nav\");$(this).addClass(\"active-nav\"),$(\"[data-section=\"+t+\"]\").fadeOut(\"fast\",(function(){$(\"[data-section=\"+n+\"]\").fadeIn()}))}})),$(\"#screen-content\").on(\"click\",\"[data-section=keypad] .keypad-top .delete-num-btn\",(function(e){var t=$(\".keypad-top #number\").val();if(t.length>0){var n=t.substring(0,t.length-1);$(\".keypad-top #number\").val($(\".keypad-top #number\").masked(n))}else null!=$(\".keypad-top #type\").val()&&$(\".keypad-top #type\").val(\"\");A($(\".keypad-top #number\").val()),C()})),$(\"#screen-content\").on(\"mousedown\",\"[data-section=keypad] .keypad-top .delete-num-btn\",(function(e){var t=$(\".keypad-top #number\").val();return D=setInterval((function(){if(t.length>0){var e=t.substring(0,t.length-1);$(\".keypad-top #number\").val($(\".keypad-top #number\").masked(e)),t=$(\".keypad-top #number\").val(),A($(\".keypad-top #number\").val()),C()}}),250),!1})),$(\"#screen-content\").on(\"submit\",\"[data-section=keypad] #call-number\",(function(e){e.preventDefault();var t=$(this).serializeArray();S(t[1].value,\"#\"===t[0].value||\"*\"===t[0].value,!1)})),$(document).mouseup((function(){return clearInterval(D),!1})),$(\"#screen-content\").on(\"click\",\"[data-section=keypad] .keypad-key\",(function(e){if(!$(this).hasClass(\"key-call\")){var t=$(this).data(\"value\"),n=$(\".keypad-top #number\").val();\"#\"===t||\"*\"===t?$(\".keypad-top #type\").val()===t?$(\".keypad-top #type\").val(\"\"):$(\".keypad-top #type\").val(t):n.length<12&&(n+=t,$(\".keypad-top #number\").val($(\".keypad-top #number\").masked(n)))}A($(\".keypad-top #number\").val()),C(),$(\".keypad-top #number\").get(0).focus()})),$(\"#screen-content\").on(\"click\",\"[data-section=history] .call\",(function(e){$(this).find(\".call-actions\").is(\":visible\")?$(this).find(\".call-actions\").slideUp():($(this).parent().find(\".call-actions\").slideUp(),$(this).find(\".call-actions\").slideDown())})),$(\"#screen-content\").on(\"click\",\"[data-section=history] .call-actions .call-action-call\",(function(e){var t=$(this).parent().parent().data(\"data\"),n=t.sender;t.sender==k&&(n=t.receiver),S(n,!1,!1)})),$(\"#screen-content\").on(\"click\",\"[data-section=history] .call-actions .call-action-text\",(function(e){var t=$(this).parent().parent().data(\"data\"),n=t.sender;t.sender==k&&(n=t.receiver),Ot.OpenApp(\"message-convo\",{number:n})})),$(\"#screen-content\").on(\"click\",\"[data-section=history] .call-actions .call-action-delete\",(function(e){var t=$(this).parent().parent().data(\"data\");$.post(a.ROOT_ADDRESS+\"/DeleteCallRecord\",JSON.stringify({id:t.id}),(function(e){e?$(this).parent().parent().fadeOut(\"normal\",(function(){c.RemoveData(\"history\",t.index),Ot.RefreshApp(),u.Alert(\"Call Record Deleted\")})):u.Alert(\"Error Deleting Call Record\")}))})),$(\"[data-section=contacts\").on(\"keyup\",\".contact-search input\",(function(e){e.preventDefault();var t=$(this).val();\"\"!==t?$.each($(this).parent().parent().find(\".contacts-list\").children(),(function(e,n){var a=$(n).data(\"data\");a.name.toUpperCase().includes(t.toUpperCase())||a.number.includes(t.toUpperCase())?$(n).fadeIn():$(n).fadeOut()})):$.each($(this).parent().parent().find(\".contacts-list\").children(),(function(e,t){$(t).fadeIn()}))})),$(\"[data-section=contacts\").on(\"click\",\".phone-contact\",(function(e){$(this).find(\".call-actions\").is(\":visible\")?$(this).find(\".call-actions\").slideUp():($(this).parent().find(\".call-actions\").slideUp(),$(this).find(\".call-actions\").slideDown())})),$(\"[data-section=contacts\").on(\"click\",\".call-actions .call-action-call\",(function(e){S($(this).parent().parent().data(\"data\").number,!1,!1)})),$(\"[data-section=contacts\").on(\"click\",\".call-actions .call-action-text\",(function(e){var t=$(this).parent().parent().data(\"data\");Ot.OpenApp(\"message-convo\",{number:t.number})})),$(\".call-action-mute\").on(\"click\",(function(e){}));var x={OpenApp:function(){k=c.GetData(\"myData\").phone,w=c.GetData(\"contacts\"),O=c.GetData(\"history\"),$(\"[data-section=contacts\").find(\".contacts-list\").html(\"\"),w.sort(I.SortContacts),$.each(w,(function(e,t){$(\"[data-section=contacts\").find(\".contacts-list\").append('<div class=\"phone-contact\"><div class=\"phone-avatar other-'+t.name[0].toString().toLowerCase()+'\">'+t.name[0]+\"</div>\"+t.name+'<div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i></div></div>'),$(\"[data-section=contacts\").find(\".contacts-list\").find(\".phone-contact:last-child\").data(\"data\",t)})),O.sort(i.DateSortOldest),$(\"[data-section=history\").html(\"\"),$.each(O,(function(e,t){if(t.sender==k){var n=w.filter((function(e){return e.number==t.receiver}))[0];0==t.status?null!=n?$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone icon-outgoing-missed\"></i><span>'+n.name+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone icon-outgoing-missed\"></i><span>'+t.receiver+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):1==t.status&&(null!=n?$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone icon-outgoing\"></i><span>'+n.name+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone icon-outgoing\"></i><span>'+t.receiver+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'))}else if(0==t.anon){var a=w.filter((function(e){return e.number==t.sender}))[0];0==t.status?null!=a?$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone-alt icon-incoming-missed\"></i><span>'+a.name+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone-alt icon-incoming-missed\"></i><span>'+t.sender+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):1==t.status&&(null!=a?$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone-alt icon-incoming\"></i><span>'+a.name+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone-alt icon-incoming\"></i><span>'+t.sender+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'))}else t.status,$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone-alt icon-incoming\"></i><span>Unknown Number</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume action-disabled\"></i><i class=\"fas fa-sms action-disabled\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>');t.index=e,$(\"[data-section=history\").find(\".call:first-child\").data(\"data\",t)})),setTimeout((function(){$(\".keypad-top #number\").get(0).focus()}),1500)},CreateCall:S,Call:y},T=null,R=null;function N(e,t){var n=e.name.toUpperCase(),a=t.name.toUpperCase();return n<a?-1:n>a?1:0}$(\"#screen-content\").on(\"click\",\".contacts-list .contact\",(function(e){$(this).find(\".contact-actions\").is(\":visible\")?$(this).find(\".contact-actions\").slideUp():($(this).parent().find(\".contact-actions\").slideUp(),$(this).find(\".contact-actions\").slideDown())})),$(\"#scree-content\").on(\"keyup\",\"#search-contacts\",(function(e){e.preventDefault();var t=$(this).val();\"\"!==t?$.each($(this).parent().parent().find(\".contacts-list\").children(),(function(e,n){var a=$(n).data(\"contact\");a.name.toUpperCase().includes(t.toUpperCase())||a.number.includes(t.toUpperCase())?$(n).fadeIn():$(n).fadeOut()})):$.each($(this).parent().parent().find(\".contacts-list\").children(),(function(e,t){$(t).fadeIn()}))})),$(\"#screen-content\").on(\"keydown\",\"#contact-add-number\",(function(e){switch(e.which){case 8:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:break;default:e.preventDefault()}})),$(\"#screen-content\").on(\"keydown\",\"#contact-edit-number\",(function(e){switch(e.which){case 8:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:break;default:e.preventDefault()}})),$(\"#screen-content\").on(\"submit\",\"#contacts-add-contact\",(function(e){e.preventDefault();var t=$(this).serializeArray(),n=t[0].value,r=t[1].value;$.post(a.ROOT_ADDRESS+\"/CreateContact\",JSON.stringify({name:n,number:r}),(function(e){e?(M.Modal.getInstance($(\"#add-contact-modal\")).close(),null==T&&(T=new Array),Ot.AddData(\"contacts\",{name:n,number:r,index:T.length}),$(\".contacts-list\").append('<div class=\"contact waves-effect\"><div class=\"contact-avatar other-'+n[0].toString().toLowerCase()+'\">'+n[0]+'</div><div class=\"contact-name\"><div class=\"contact-name-text\">'+n+'</div><div class=\"number\">('+r+')</div></div><div class=\"contact-actions waves-effect\"><i class=\"fas fa-phone-volume action-call\"></i><i class=\"fas fa-sms action-text\"></i><i class=\"fas fa-user-edit action-edit modal-trigger\" data-target=\"edit-contact-modal\"></i><i class=\"fas fa-trash-alt action-delete\"></i></div></div>'),$(\".contacts-list .contact:last-child\").data(\"contact\",{name:n,number:r,index:T.length-1}),$(\".contacts-list\").animate({scrollTop:$(\".contacts-list .contact:last-child\").offset().top},2e3),$(\".contacts-list .contact:last-child\").find(\".contact-name\").trigger(\"click\"),u.Alert(\"Contact Added\"),$(\"#contact-add-name\").val(\"\"),$(\"#contact-add-name\").next().removeClass(\"active\"),$(\"#contact-add-number\").val(\"\"),$(\"#contact-add-number\").next().removeClass(\"active\")):u.Alert(\"Error Adding Contact\")}))})),$(\"#screen-content\").on(\"submit\",\"#contacts-edit-contact\",(function(e){e.preventDefault();var t=$(this).serializeArray(),n=$(R).data(\"contact\"),r=t[0].value,o=t[1].value;$.post(a.ROOT_ADDRESS+\"/EditContact\",JSON.stringify({originName:n.name,originNumber:n.number,name:r,number:o}),(function(e){e?(M.Modal.getInstance($(\"#edit-contact-modal\")).close(),c.UpdateData(\"contacts\",n.index,{name:r,number:o,index:n.index}),$(R).html('<div class=\"contact-avatar other-'+r[0].toString().toLowerCase()+'\">'+r[0]+'</div><div class=\"contact-name\"><div class=\"contact-name-text\">'+r+'</div><div class=\"number\">('+o+')</div></div><div class=\"contact-actions\"><i class=\"fas fa-phone-volume action-call\"></i><i class=\"fas fa-sms action-text\"></i><i class=\"fas fa-user-edit action-edit modal-trigger\" data-target=\"edit-contact-modal\"></i><i class=\"fas fa-trash-alt action-delete\"></i></div>'),$(R).data(\"contact\",{name:r,number:o,index:n.index}),$(R).find(\".contact-name\").trigger(\"click\"),u.Alert(\"Contact Updated\"),$(\"#contact-edit-name\").val(\"\"),$(\"#contact-edit-name\").next().removeClass(\"active\"),$(\"#contact-edit-number\").val(\"\"),$(\"#contact-edit-number\").next().removeClass(\"active\")):u.Alert(\"Error Updating Contact\")}))})),$(\"#screen-content\").on(\"click\",\".contacts-list .contact-actions .action-call\",(function(e){var t=$(this).parent().parent().data(\"contact\");x.CreateCall(t.number,!1,!1)})),$(\"#scree-content\").on(\"click\",\".contacts-list .contact-actions .action-text\",(function(e){var t=$(this).parent().parent().data(\"contact\");Ot.OpenApp(\"message-convo\",{number:t.number})})),$(\"#screen-content\").on(\"click\",\".contacts-list .contact-actions .action-edit\",(function(e){var t=$(this).parent().parent().data(\"contact\");R=$(this).parent().parent(),$(\"#contact-edit-name\").val(t.name),$(\"#contact-edit-number\").val(t.number),M.updateTextFields()})),$(\"#screen-content\").on(\"click\",\".contacts-list .contact-actions .action-delete\",(function(e){var t=$(this),n=t.parent().parent().data(\"contact\");$.post(a.ROOT_ADDRESS+\"/DeleteContact\",JSON.stringify({name:n.name,number:n.number}),(function(e){e?(t.parent().parent().fadeOut(\"normal\",(function(){t.parent().parent().remove()})),u.Alert(\"Contact Deleted\"),Ot.RemoveData(\"contacts\",n.index)):u.Alert(\"Error Deleting Contact\")}))}));var I={OpenApp:function(){(T=c.GetData(\"contacts\")).sort(N),$(\".contacts-list\").html(\"\"),$.each(T,(function(e,t){$(\".contacts-list\").append('<div class=\"contact waves-effect\"><div class=\"contact-avatar other-'+t.name[0].toString().toLowerCase()+'\">'+t.name[0]+'</div><div class=\"contact-name\"><div class=\"contact-name-text\">'+t.name+'</div><div class=\"number\">('+t.number+')</div></div><div class=\"contact-actions\"><i class=\"fas fa-phone-volume action-call\"></i><i class=\"fas fa-sms action-text\"></i><i class=\"fas fa-user-edit action-edit  modal-trigger\" data-target=\"edit-contact-modal\"></i><i class=\"fas fa-trash-alt action-delete\"></i></div></div>'),t.index=e,$(\".contacts-list .contact:last-child\").data(\"contact\",t)}))},SortContacts:N},E=null,U=null,G=null;$(\".convo-top-bar\").on(\"click\",\".convo-action-addcontact\",(function(e){var t=$(\"#message-convo-container\").data(\"data\");$(\"#convo-add-contact-number\").val(t.number)})),$(\"#convo-add-contact\").on(\"submit\",(function(e){e.preventDefault();var t=$(this).serializeArray(),n=t[0].value,r=t[1].value;$.post(a.ROOT_ADDRESS+\"/CreateContact\",JSON.stringify({name:n,number:r}),(function(e){e?(null==U&&(U=new Array),c.AddData(\"contacts\",{name:n,number:r,index:U.length}),M.Modal.getInstance($(\"#convo-add-contact-modal\")).close(),$(\"#convo-add-contact-name\").val(\"\"),$(\"#convo-add-contact-number\").val(\"555-555-5555\"),u.Alert(\"Contact Added\"),Ot.RefreshApp()):u.Alert(\"Error Adding Contact\")}))})),$(\"#convo-new-text\").on(\"submit\",(function(e){e.preventDefault();var t=$(\"#message-convo-container\").data(\"data\"),n=$(this).serializeArray(),a=[{value:t.number},{value:n[0].value}];L.SendNewText(a,(function(e){e&&($(\".convo-texts-list\").append('<div class=\"text me-sender\"><span>'+n[0].value+\"</span><p>\"+moment(Date.now()).fromNowOrNow()+\"</p></div>\"),u.Alert(\"Message Sent\"),$(\"#convo-input\").val(\"\"),null!=$(\".convo-texts-list .text:last-child\").offset()&&$(\".convo-texts-list\").animate({scrollTop:$(\".convo-texts-list\")[0].scrollHeight-$(\".convo-texts-list\")[0].clientHeight},200))}))})),$(\"#convo-delete-all\").on(\"click\",(function(e){e.preventDefault();var t=$(\"#message-convo-container\").data(\"data\");$.post(a.ROOT_ADDRESS+\"/DeleteConversation\",JSON.stringify({number:t.number}),(function(e){if(e){var n=G.filter((function(e){return e.sender!=t.number&&e.receiver!=t.number}));c.StoreData(\"messages\",n),u.Alert(\"Conversation Deleted\"),GoBack()}else u.Alert(\"Error Deleting Conversation\")}))}));var P={OpenApp:function(e){E=c.GetData(\"myData\").phone,U=c.GetData(\"contacts\"),G=c.GetData(\"messages\"),$(\"#message-convo-container\").data(\"data\",e);var t=G.filter((function(t){return t.sender==e.number&&t.receiver==E||t.sender==E&&t.receiver==e.number})),n=U.filter((function(t){return t.number==e.number}))[0];null!=n?($(\".convo-action-addcontact\").hide(),$(\".convo-top-number\").html(n.name),$(\".convo-top-bar\").attr(\"class\",\"convo-top-bar other-\"+n.name[0])):($(\".convo-action-addcontact\").show(),$(\".convo-top-number\").html(e.number)),$(\".convo-texts-list\").html(\"\"),$.each(t,(function(e,t){var a=new Date(t.sent_time);t.sender==E?($(\".convo-texts-list\").append('<div class=\"text me-sender\"><span>'+t.message+\"</span><p>\"+moment(a).fromNowOrNow()+\"</p></div>\"),t.receiver==E&&(null!=n?$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span class=\" other-'+n.name[0]+'\">'+t.message+\"</span><p>\"+moment(a).fromNowOrNow()+\"</p></div>\"):$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span>'+t.message+\"</span><p>\"+moment(a).fromNowOrNow()+\"</p></div>\"))):null!=n?$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span class=\" other-'+n.name[0]+'\">'+t.message+\"</span><p>\"+moment(a).fromNowOrNow()+\"</p></div>\"):$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span>'+t.message+\"</span><p>\"+moment(a).fromNowOrNow()+\"</p></div>\")})),null!=$(\".convo-texts-list .text:last-child\").offset()&&$(\".convo-texts-list\").animate({scrollTop:$(\".convo-texts-list .text:last-child\").offset().top},25)},CloseApp:function(){E=null,U=null,G=null,$(\"#message-convo-container\").removeData(\"data\"),$(\".convo-texts-list\").html(\"\"),$(\".convo-top-bar\").attr(\"class\",\"convo-top-bar\")},ReceiveText:function(e,t){var n=$(\"#message-convo-container\").data(\"data\");if(null!=n){var a=U.filter((function(e){return e.number==n.number}))[0];n.number==t.sender&&(null!=a?$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span class=\" other-'+a.name[0]+'\">'+t.message+\"</span><p>\"+moment(Date.now()).fromNowOrNow()+\"</p></div>\"):$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span>'+t.message+\"</span><p>\"+moment(Date.now()).fromNowOrNow()+\"</p></div>\"),null!=$(\".convo-texts-list .text:last-child\").offset()&&$(\".convo-texts-list\").animate({scrollTop:$(\".convo-texts-list\")[0].scrollHeight-$(\".convo-texts-list\")[0].clientHeight},200))}null==G&&(G=c.GetData(\"messages\")),null==E&&(E=c.GetData(\"myData\").phone),c.AddData(\"messages\",{sender:t.sender,receiver:E,message:t.message,sent_time:t.sent_time,sender_read:0,receiver_read:0})}},_=null,B=null,j=null;function q(e,t){$.post(a.ROOT_ADDRESS+\"/SendText\",JSON.stringify({receiver:e[0].value,message:e[1].value}),(function(e){null!=e?(null==j&&(j=new Array),c.AddData(\"messages\",{sender:_,receiver:e.receiver,message:e.message,sent_time:e.sent_time,sender_read:0,receiver_read:0}),t(!0)):(u.Alert(\"Unable To Send Text\"),t(!1))}))}$(\".phone-screen\").on(\"click\",\".messages-list .message\",(function(e){console.log($(this).data(\"message\")),Ot.OpenApp(\"message-convo\",$(this).data(\"message\"),!1,!0)})),$(\".phone-screen\").on(\"change\",\"#message-new-contact\",(function(e){var t=$(this).val();$(\"#message-new-number\").val(t)})),$(\".phone-screen\").on(\"submit\",\"#message-new-msg\",(function(e){e.preventDefault(),q($(this).serializeArray(),(function(e){e&&(M.Modal.getInstance($(\"#messages-new-modal\")).close(),u.Alert(\"Message Sent\"),Ot.RefreshApp())}))}));var L={OpenApp:function(){_=c.GetData(\"myData\").phone,B=c.GetData(\"contacts\"),j=c.GetData(\"messages\"),$.post(a.ROOT_ADDRESS+\"/ClearUnread\",JSON.stringify({app:\"messages\"}));var e=new Array;$.each(j,(function(t,n){var a=new Object;n.sender==_?a.number=n.receiver:a.number=n.sender,a.message=n.message,a.receiver=n.receiver,a.sender=n.sender,a.time=new Date(n.sent_time);var r=e.filter((function(e){return e.number===a.number}))[0];null==r?e.push(a):a.time>r.time&&($.each(e,(function(t,n){n==r&&(e[t]=a)})),e[r.number]=a)})),e.sort(i.DateSortNewest),$(\"#message-container .inner-app .messages-list\").html(\"\"),$.each(e,(function(e,t){var n=null;null!=B&&(n=B.filter((function(e){return e.number==t.number}))[0]),null==n?$(\"#message-container .inner-app .messages-list\").append('<div class=\"message waves-effect\"><div class=\"text-avatar\">#</div><div class=\"text-name\">'+t.number+'</div><div class=\"text-message\">'+t.message+'</div><div class=\"text-time\">'+moment(t.time).fromNowOrNow()+\"</div></div>\"):$(\"#message-container .inner-app .messages-list\").append('<div class=\"message waves-effect\"><div class=\"text-avatar other-'+n.name[0].toString().toLowerCase()+'\">'+n.name[0]+'</div><div class=\"text-name\">'+n.name+'</div><div class=\"text-message\"> '+t.message+'</div><div class=\"text-time\">'+moment(t.time).fromNowOrNow()+\"</div></div>\"),$(\".messages-list .message:last-child\").data(\"message\",t)}))},SetupNewMessage:function(){$(\"#message-new-contact\").html(\"\"),$(\"#message-new-contact\").append('<option value=\"\">Choose Contact</option>'),$.each(B,(function(e,t){$(\"#message-new-contact\").append('<option value=\"'+t.number+'\">'+t.name+\" (\"+t.number+\")</option>\")})),$(\"#message-new-number\").val(\"\"),$(\"#message-new-body\").val(\"\"),$(\"#message-new-contact\").formSelect()},SendNewText:q,Convo:P},F=null,J=null;function W(e){var t=/\\B@[a-z0-9_-]+/gi,n=e.message.match(t);$.each(n,(function(t,n){e.message=e.message.replace(n,'<span class=\"mention\" data-mention=\"'.concat(n.replace(\"@\",\"\"),'\">').concat(n,\"</span>\"))})),t=/\\B#[a-z0-9_-]+/gi,n=e.message.match(t),$.each(n,(function(t,n){e.message=e.message.replace(n,'<span class=\"hashtag\" data-hashtag=\"'.concat(n.replace(\"#\",\"\"),'\">').concat(n,\"</span>\"))})),$(\".twitter-body\").prepend('\\n        <div class=\"tweet\">\\n            <div class=\"avatar other-'.concat(e.author[0].toString().toLowerCase(),'\">').concat(e.author[0],'</div>\\n            <div class=\"author\">').concat(e.author,'</div>\\n            <div class=\"body\">').concat(e.message,'</div>\\n            <div class=\"time\" data-tooltip=\"').concat(moment(e.time).format(\"MM/DD/YYYY\"),\" \").concat(moment(e.time).format(\"hh:mmA\"),'\">').concat(moment(e.time).fromNowOrNow(),\"</div>\\n        </div>\")),$(\".twitter-body .tweet:first-child .time\").tooltip({position:top}),$(\".twitter-body .tweet:first-child\").data(\"data\",e)}$(\"#screen-content\").on(\"submit\",\"#new-tweet\",(function(e){e.preventDefault();var t=$(this).serializeArray(),n={author:\"PleaseWork\",message:t[0].value,time:Date.now()};c.AddData(\"tweets\",n);var r=/\\B@[a-z0-9_-]+/gi,o=n.message.match(r);$.each(o,(function(e,t){n.message=n.message.replace(t,'<span class=\"mention\" data-mention=\"'.concat(t.replace(\"@\",\"\"),'\">').concat(t,\"</span>\"))})),r=/\\B#[a-z0-9_-]+/gi;var s=n.message.match(r);$.each(s,(function(e,t){n.message=n.message.replace(t,'<span class=\"hashtag\" data-hashtag=\"'.concat(t.replace(\"#\",\"\"),'\">').concat(t,\"</span>\"))})),$.post(a.ROOT_ADDRESS+\"/NewTweet\",JSON.stringify({message:t[0].value,time:n.time,mentions:o,hashtags:s}),(function(e){e?(n.author=e.author,W(n),M.Modal.getInstance($(\"#send-tweet-modal\")).close(),$(\"#new-tweet-msg\").val(\"\"),u.Alert(\"Tweet Sent\")):u.Alert(\"Failed Sending Tweet\")}))})),$(\"#screen-content\").on(\"click\",\".tweet .mention\",(function(){var e=$(this).data(\"mention\");$(\"#new-tweet-msg\").val(\"@\"+e+\" \"),M.Modal.getInstance($(\"#send-tweet-modal\")).open()})),$(\"#screen-content\").on(\"click\",\".twitter-body .author\",(function(){var e=$(this).html();$(\"#new-tweet-msg\").val(\"@\"+e+\" \"),M.Modal.getInstance($(\"#send-tweet-modal\")).open()}));var Y={OpenApp:function(){null==(F=c.GetData(\"tweets\"))&&(F=new Array),F.sort(i.DateSortOldest),$(\".twitter-body\").html(\"\"),$.each(F,(function(e,t){W(t)}))},ReceiveNewTweet:function(e){null!=J&&clearTimeout(J),null==F&&(F=c.GetData(\"tweets\")),c.AddData(\"tweets\",e),$(\".twitter-alert-header\").find(\"span\").html(e.author),$(\".twitter-alert-body\").html(e.message),$(\".twitter-alert\").fadeIn(),J=setTimeout((function(){$(\".twitter-alert\").fadeOut(\"normal\",(function(){$(\".twitter-alert-header\").find(\"span\").html(\"\"),$(\".twitter-alert-body\").html(\"\"),J=null}))}),3e3),\"twitter\"===Ot.GetCurrentApp()&&W(e)}},z=null;function H(e){$(\"#advert-\".concat(e.id)).length<1?($(\"#ads-body\").prepend('<div class=\"yp-post\" id=\"advert-'.concat(e.id,'\"><div class=\"yp-post-header\"><span class=\"yp-author\">').concat(e.author,'</span><span class=\"yp-phone\">').concat(e.phone,'</span></div><div class=\"yp-post-body\"><div class=\"yp-post-title\">').concat(e.title,'</div><div class=\"yp-post-message\">').concat(e.message,'</div></div><div class=\"yp-post-timestamp\">').concat(moment(e.date).fromNowOrNow(),\"</div></div>\")),$(\"#ads-body .yp-post:first-child\").data(\"advert\",e),V(e)):($(\"#advert-\".concat(e.id)).find(\".yp-post-title\").html(e.title),$(\"#advert-\".concat(e.id)).find(\".yp-post-message\").html(e.message),$(\"#advert-\".concat(e.id)).find(\".yp-post-timestamp\").html(moment(e.date).fromNowOrNow()),$(\"#advert-\".concat(e.id)).data(\"advert\",e),$(\"#advert-\".concat(e.id)).parent().prepend($(\"#advert-\".concat(e.id))),function(e,t){null==z&&(z=c.GetData(\"adverts\"));$.each(z,(function(n,a){a.id!==e||c.UpdateData(\"adverts\",n,t)}))}(e.id,e))}function V(e){c.AddData(\"adverts\",e)}$(\"#screen-content\").on(\"keyup\",\"#ads-search input\",(function(e){e.preventDefault();var t=$(this).val().toUpperCase();\"\"!==t?$.each($(this).parent().parent().find(\"#ads-body\").find(\".yp-post\"),(function(e,n){var a=$(n).data(\"advert\");a.author.toUpperCase().includes(t)||a.phone.includes(t)||a.title.toUpperCase().includes(t)||a.message.toUpperCase().includes(t)?$(n).fadeIn():$(n).fadeOut()})):$.each($(this).parent().parent().find(\"#ads-body\").children(),(function(e,t){$(t).fadeIn()}))})),$(\"#screen-content\").on(\"click\",\"#ads-body .yp-phone\",(function(e){$(this).html()!=c.GetData(\"myData\").phone&&(Ot.OpenApp(\"phone\",null,!1),x.CreateCall($(this).html(),!1,!1))})),$(\"#screen-content\").on(\"click\",\"#delete-ad\",(function(e){$.post(a.ROOT_ADDRESS+\"/DeleteAd\",JSON.stringify({}),(function(){$(\"#ads-body\").find(\".yp-post-owned\").fadeOut(\"normal\",(function(){$(\"#ads-body\").find(\".yp-post-owned\").remove(),u.Alert(\"Advertisement Deleted\")})),$(\"#delete-ad\").fadeOut()}))})),$(\"#screen-content\").on(\"submit\",\"#new-advert\",(function(e){e.preventDefault();var t=$(this).serializeArray(),n=c.GetData(\"myData\"),r=Date.now(),o=t[0].value,s=t[1].value;$.post(a.ROOT_ADDRESS+\"/NewAd\",JSON.stringify({date:r,title:o,message:s}),(function(){H({id:n.id,author:n.name,phone:n.phone,date:r,title:o,message:s}),M.Modal.getInstance($(\"#create-advert-modal\")).close(),$(\"#new-advert\").trigger(\"reset\"),$(\"#advert-\".concat(n.id)).addClass(\"yp-post-owned\"),$(\"#delete-ad\").fadeIn(),u.Alert(\"Advertisement Posted\")}))}));var Q={OpenApp:function(){var e=c.GetData(\"myData\").phone;(z=c.GetData(\"adverts\")).sort(i.DateSortOldest),$(\"#ads-body\").html(\"\"),$.each(z,(function(t,n){H(n),n.phone==e&&($(\"#ads-body .yp-post:first-child\").addClass(\"yp-post-owned\"),$(\"#delete-ad\").show())}))},ReceiveNewAdvert:function(e){V(e),\"ads\"===Ot.GetCurrentApp()&&H(e)},DeleteAdvert:function(e){$(\"#advert-\".concat(e)).length<1&&(\"ads\"===Ot.GetCurrentApp()?$(\"#advert-\".concat(e)).fadeOut(\"normal\",(function(){$(\"#advert-\".concat(e)).remove()})):$(\"#advert-\".concat(e)).remove(),function(e){null==z&&(z=c.GetData(\"adverts\")),$.each(z,(function(t,n){n.id!==e||c.RemoveData(\"adverts\",t)}))}(e))}},X=null,Z=null;$(\"#screen-content\").on(\"click\",\"#quick-custom-open\",(function(){Ot.OpenApp(\"tuner-custom\",null,!1,!0)}));var K={OpenApp:function(){X=c.GetData(\"factory-tunes\"),Z=c.GetData(\"custom-tunes\"),$.each(X,(function(e,t){$(\".tuner-quick-section#factory\").find(\".tuner-quick-buttons\").append('<button type=\"button\" class=\"btn waves-effect waves-light teal darken-4 quick-tune-button\">'.concat(t.label,\"</button>\")),$(\".tuner-quick-section#factory\").find(\".tuner-quick-buttons .quick-tune-button:last-child\").data(\"tune\",t)})),$.each(Z,(function(e,t){$(\".tuner-quick-section#custom\").find(\".tuner-quick-buttons\").append('<button type=\"button\" class=\"btn waves-effect waves-light teal darken-4 quick-tune-button\">'.concat(t.label,\"</button>\")),$(\".tuner-quick-section#custom\").find(\".tuner-quick-buttons .quick-tune-button:last-child\").data(\"tune\",t)})),$(\"#tuner-quick\").fadeIn()},CloseApp:function(){$(\"#tuner-quick\").fadeOut(\"normal\",(function(){$(\".tuner-quick-section#factory\").find(\".tuner-quick-buttons\").html(\"\"),$(\".tuner-quick-section#custom\").find(\".tuner-quick-buttons\").html(\"\")}))}},ee={boost:document.getElementById(\"slider-boost\"),throttle:document.getElementById(\"slider-throttle\"),tranny:document.getElementById(\"slider-tranny\"),brakes:document.getElementById(\"slider-brakes\"),dt:document.getElementById(\"slider-dt\")};function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];$.each(t,(function(t,a){e.append('\\n            <div class=\"tuner-options\">\\n                <button type=\"button\" class=\"btn waves-effect waves-light teal darken-4 quick-tune-button\">'.concat(a.label,'</button>\\n                <button type=\"button\" class=\"btn waves-effect waves-light materialize-red darken-4 quick-tune-delete').concat(n?\" disabled\":\"\",'\"><i class=\"fas fa-trash-alt\"></i></button>\\n            </div>\\n        ')),e.find(\".tuner-options:last-child .quick-tune-button\").data(\"tune\",a)}))}$(\"#screen-content\").on(\"submit\",\"#new-tune\",(function(e){e.preventDefault();var t=$(this).serializeArray();c.GetData(\"custom-tunes\");$.post(a.ROOT_ADDRESS+\"TunerNew\",JSON.stringify({label:t[0].value,carOnly:null!=t[1],carModel:null,boost:ee.boost.noUiSlider.get(),throttle:ee.throttle.noUiSlider.get(),tranny:ee.tranny.noUiSlider.get(),brakes:ee.brakes.noUiSlider.get(),dt:ee.dt.noUiSlider.get()}),(function(e){null!=e?(c.AddData(\"custom-tunes\",e),u.Alert(\"Tune Saved\"),M.Modal.getInstance($(\"#save-tune-popup\")).close()):u.Alert(\"Error Saving Tune\")}))})),$(\"#screen-content\").on(\"click\",\"#tuner-custom-saved\",(function(){var e=c.GetData(\"custom-tunes\"),t=c.GetData(\"factory-tunes\");$(\"#custom-tunes-popup\").find(\"#car-only\").html(\"\"),$(\"#custom-tunes-popup\").find(\"#generic\").html(\"\");var n=e.filter((function(e){return e.carOnly&&\"RUINER\"===e.carModel})),a=e.filter((function(e){return!e.carOnly}));n.length>0?te($(\"#custom-tunes-popup\").find(\"#car-only\"),n):($(\"#tab-car-only\").removeClass(\"active\"),$(\"#tab-generic\").addClass(\"active\"),M.Tabs.getInstance($(\"#custom-tunes-tabs\")).updateTabIndicator());te($(\"#custom-tunes-popup\").find(\"#generic\"),t,!0),te($(\"#custom-tunes-popup\").find(\"#generic\"),a),M.Modal.getInstance($(\"#custom-tunes-popup\")).open()})),$(\"#screen-content\").on(\"click\",\"#custom-tunes-popup .quick-tune-button\",(function(e){var t=$(this).data(\"tune\");ee.boost.noUiSlider.set(t.boost),ee.throttle.noUiSlider.set(t.throttle),ee.tranny.noUiSlider.set(t.tranny),ee.brakes.noUiSlider.set(t.brakes),ee.dt.noUiSlider.set(t.dt),u.Alert(\"Tune Loaded, Press Apply To Apply It\"),M.Modal.getInstance($(\"#custom-tunes-popup\")).close()})),$(\"#screen-content\").on(\"click\",\"#custom-tunes-popup .quick-tune-delete\",(function(e){var t=$(this).parent().find(\".quick-tune-button\").data(\"tune\");$.post(a.ROOT_ADDRESS+\"/TunerDelete\",JSON.stringify({id:t.id}),(function(e){e&&(c.RemoveObjectData(\"custom-tunes\",\"id\",t.id),$(this).parent().fadeOut(\"fast\",(function(){$(this).remove()})),u.Alert(\"Tune Deleted\"))}))})),$(\"#screen-content\").on(\"click\",\"#tuner-custom-quick\",(function(){Ot.OpenApp(\"tuner-quick\",null,!1,!0)})),$(\"#screen-content\").on(\"click\",\"#tuner-custom-apply\",(function(){!function(e){var t=ee.boost.noUiSlider.get(),n=ee.throttle.noUiSlider.get(),r=ee.tranny.noUiSlider.get(),o=ee.brakes.noUiSlider.get(),s=ee.dt.noUiSlider.get();null!=e&&(t=e.boost,n=e.throttle,r=e.tranny,o=e.brakes,s=e.dt);$.post(a.ROOT_ADDRESS+\"/ApplyTune\",JSON.stringify({boost:t,throttle:n,tranny:r,brakes:o,dt:s}),(function(e){e?u.Alert(\"Tune Applied\"):u.Alert(\"Unable To Apply Tune\")}))}()}));var ne={OpenApp:function(e){ee={boost:document.getElementById(\"slider-boost\"),throttle:document.getElementById(\"slider-throttle\"),tranny:document.getElementById(\"slider-tranny\"),brakes:document.getElementById(\"slider-brakes\"),dt:document.getElementById(\"slider-dt\")},function(){for(var e in ee){var t=ee[e];noUiSlider.create(t,{start:[50],connect:[!0,!1],step:10,orientation:\"horizontal\",range:{min:0,max:100},pips:{mode:\"steps\",stepped:!0,density:10}})}}(),null!=e&&console.log(\"woot\"),$(\"#tuner-custom-container .inner-app\").fadeIn()},CloseApp:function(){$(\"#tuner-custom-container .inner-app\").fadeOut()}};var ae={OpenApp:function(){$(\"#tuner-legal-container .inner-app\").fadeIn()},CloseApp:function(){$(\"#tuner-legal-container .inner-app\").fadeOut()}},re={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:\"normal\",autoplay:!0,timelineOffset:0},oe={duration:1e3,delay:0,endDelay:0,easing:\"easeOutElastic(1, .5)\",round:0},se=[\"translateX\",\"translateY\",\"translateZ\",\"rotate\",\"rotateX\",\"rotateY\",\"rotateZ\",\"scale\",\"scaleX\",\"scaleY\",\"scaleZ\",\"skew\",\"skewX\",\"skewY\",\"perspective\"],ce={CSS:{},springs:{}};function ie(e,t,n){return Math.min(Math.max(e,t),n)}function le(e,t){return e.indexOf(t)>-1}function ue(e,t){return e.apply(null,t)}var de={arr:function(e){return Array.isArray(e)},obj:function(e){return le(Object.prototype.toString.call(e),\"Object\")},pth:function(e){return de.obj(e)&&e.hasOwnProperty(\"totalLength\")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||de.svg(e)},str:function(e){return\"string\"==typeof e},fnc:function(e){return\"function\"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return de.hex(e)||de.rgb(e)||de.hsl(e)},key:function(e){return!re.hasOwnProperty(e)&&!oe.hasOwnProperty(e)&&\"targets\"!==e&&\"keyframes\"!==e}};function pe(e){var t=/\\(([^)]+)\\)/.exec(e);return t?t[1].split(\",\").map((function(e){return parseFloat(e)})):[]}function fe(e,t){var n=pe(e),a=ie(de.und(n[0])?1:n[0],.1,100),r=ie(de.und(n[1])?100:n[1],.1,100),o=ie(de.und(n[2])?10:n[2],.1,100),s=ie(de.und(n[3])?0:n[3],.1,100),c=Math.sqrt(r/a),i=o/(2*Math.sqrt(r*a)),l=i<1?c*Math.sqrt(1-i*i):0,u=1,d=i<1?(i*c-s)/l:-s+c;function p(e){var n=t?t*e/1e3:e;return n=i<1?Math.exp(-n*i*c)*(u*Math.cos(l*n)+d*Math.sin(l*n)):(u+d*n)*Math.exp(-n*c),0===e||1===e?e:1-n}return t?p:function(){var t=ce.springs[e];if(t)return t;for(var n=0,a=0;;)if(1===p(n+=1/6)){if(++a>=16)break}else a=0;var r=n*(1/6)*1e3;return ce.springs[e]=r,r}}function me(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var ve,he,ge=function(){var e=11,t=1/(e-1);function n(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function r(e){return 3*e}function o(e,t,o){return((n(t,o)*e+a(t,o))*e+r(t))*e}function s(e,t,o){return 3*n(t,o)*e*e+2*a(t,o)*e+r(t)}return function(n,a,r,c){if(0<=n&&n<=1&&0<=r&&r<=1){var i=new Float32Array(e);if(n!==a||r!==c)for(var l=0;l<e;++l)i[l]=o(l*t,n,r);return function(e){return n===a&&r===c?e:0===e||1===e?e:o(u(e),a,c)}}function u(a){for(var c=0,l=1,u=e-1;l!==u&&i[l]<=a;++l)c+=t;var d=c+(a-i[--l])/(i[l+1]-i[l])*t,p=s(d,n,r);return p>=.001?function(e,t,n,a){for(var r=0;r<4;++r){var c=s(t,n,a);if(0===c)return t;t-=(o(t,n,a)-e)/c}return t}(a,d,n,r):0===p?d:function(e,t,n,a,r){var s,c,i=0;do{(s=o(c=t+(n-t)/2,a,r)-e)>0?n=c:t=c}while(Math.abs(s)>1e-7&&++i<10);return c}(a,c,c+t,n,r)}}}(),$e=(ve={linear:function(){return function(e){return e}}},he={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=ie(e,1,10),a=ie(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-a/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/a)}}},[\"Quad\",\"Cubic\",\"Quart\",\"Quint\",\"Expo\"].forEach((function(e,t){he[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(he).forEach((function(e){var t=he[e];ve[\"easeIn\"+e]=t,ve[\"easeOut\"+e]=function(e,n){return function(a){return 1-t(e,n)(1-a)}},ve[\"easeInOut\"+e]=function(e,n){return function(a){return a<.5?t(e,n)(2*a)/2:1-t(e,n)(-2*a+2)/2}}})),ve);function be(e,t){if(de.fnc(e))return e;var n=e.split(\"(\")[0],a=$e[n],r=pe(e);switch(n){case\"spring\":return fe(e,t);case\"cubicBezier\":return ue(ge,r);case\"steps\":return ue(me,r);default:return ue(a,r)}}function ye(e){try{return document.querySelectorAll(e)}catch(e){return}}function ke(e,t){for(var n=e.length,a=arguments.length>=2?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(a,s,o,e)&&r.push(s)}return r}function we(e){return e.reduce((function(e,t){return e.concat(de.arr(t)?we(t):t)}),[])}function Oe(e){return de.arr(e)?e:(de.str(e)&&(e=ye(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function De(e,t){return e.some((function(e){return e===t}))}function Ae(e){var t={};for(var n in e)t[n]=e[n];return t}function Ce(e,t){var n=Ae(e);for(var a in e)n[a]=t.hasOwnProperty(a)?t[a]:e[a];return n}function Se(e,t){var n=Ae(e);for(var a in t)n[a]=de.und(e[a])?t[a]:e[a];return n}function xe(e){return de.rgb(e)?(n=/rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(t=e))?\"rgba(\"+n[1]+\",1)\":t:de.hex(e)?function(e){var t=e.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,(function(e,t,n,a){return t+t+n+n+a+a})),n=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(t);return\"rgba(\"+parseInt(n[1],16)+\",\"+parseInt(n[2],16)+\",\"+parseInt(n[3],16)+\",1)\"}(e):de.hsl(e)?function(e){var t,n,a,r=/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(e)||/hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(e),o=parseInt(r[1],10)/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100,i=r[4]||1;function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==s)t=n=a=c;else{var u=c<.5?c*(1+s):c+s-c*s,d=2*c-u;t=l(d,u,o+1/3),n=l(d,u,o),a=l(d,u,o-1/3)}return\"rgba(\"+255*t+\",\"+255*n+\",\"+255*a+\",\"+i+\")\"}(e):void 0;var t,n}function Me(e){var t=/[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function Te(e,t){return de.fnc(e)?e(t.target,t.id,t.total):e}function Re(e,t){return e.getAttribute(t)}function Ne(e,t,n){if(De([n,\"deg\",\"rad\",\"turn\"],Me(t)))return t;var a=ce.CSS[t+n];if(!de.und(a))return a;var r=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(r),r.style.position=\"absolute\",r.style.width=100+n;var s=100/r.offsetWidth;o.removeChild(r);var c=s*parseFloat(t);return ce.CSS[t+n]=c,c}function Ie(e,t,n){if(t in e.style){var a=t.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(a)||\"0\";return n?Ne(e,r,n):r}}function Ee(e,t){return de.dom(e)&&!de.inp(e)&&(Re(e,t)||de.svg(e)&&e[t])?\"attribute\":de.dom(e)&&De(se,t)?\"transform\":de.dom(e)&&\"transform\"!==t&&Ie(e,t)?\"css\":null!=e[t]?\"object\":void 0}function Ue(e){if(de.dom(e)){for(var t,n=e.style.transform||\"\",a=/(\\w+)\\(([^)]*)\\)/g,r=new Map;t=a.exec(n);)r.set(t[1],t[2]);return r}}function Ge(e,t,n,a){var r=le(t,\"scale\")?1:0+function(e){return le(e,\"translate\")||\"perspective\"===e?\"px\":le(e,\"rotate\")||le(e,\"skew\")?\"deg\":void 0}(t),o=Ue(e).get(t)||r;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),a?Ne(e,o,a):o}function Pe(e,t,n,a){switch(Ee(e,t)){case\"transform\":return Ge(e,t,a,n);case\"css\":return Ie(e,t,n);case\"attribute\":return Re(e,t);default:return e[t]||0}}function _e(e,t){var n=/^(\\*=|\\+=|-=)/.exec(e);if(!n)return e;var a=Me(e)||0,r=parseFloat(t),o=parseFloat(e.replace(n[0],\"\"));switch(n[0][0]){case\"+\":return r+o+a;case\"-\":return r-o+a;case\"*\":return r*o+a}}function Be(e,t){if(de.col(e))return xe(e);if(/\\s/g.test(e))return e;var n=Me(e),a=n?e.substr(0,e.length-n.length):e;return t?a+t:a}function je(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function qe(e){for(var t,n=e.points,a=0,r=0;r<n.numberOfItems;r++){var o=n.getItem(r);r>0&&(a+=je(t,o)),t=o}return a}function Le(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case\"circle\":return function(e){return 2*Math.PI*Re(e,\"r\")}(e);case\"rect\":return function(e){return 2*Re(e,\"width\")+2*Re(e,\"height\")}(e);case\"line\":return function(e){return je({x:Re(e,\"x1\"),y:Re(e,\"y1\")},{x:Re(e,\"x2\"),y:Re(e,\"y2\")})}(e);case\"polyline\":return qe(e);case\"polygon\":return function(e){var t=e.points;return qe(e)+je(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function Fe(e,t){var n=t||{},a=n.el||function(e){for(var t=e.parentNode;de.svg(t)&&de.svg(t.parentNode);)t=t.parentNode;return t}(e),r=a.getBoundingClientRect(),o=Re(a,\"viewBox\"),s=r.width,c=r.height,i=n.viewBox||(o?o.split(\" \"):[0,0,s,c]);return{el:a,viewBox:i,x:i[0]/1,y:i[1]/1,w:s/i[2],h:c/i[3]}}function Je(e,t){function n(n){void 0===n&&(n=0);var a=t+n>=1?t+n:0;return e.el.getPointAtLength(a)}var a=Fe(e.el,e.svg),r=n(),o=n(-1),s=n(1);switch(e.property){case\"x\":return(r.x-a.x)*a.w;case\"y\":return(r.y-a.y)*a.h;case\"angle\":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}function We(e,t){var n=/[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g,a=Be(de.pth(e)?e.totalLength:e,t)+\"\";return{original:a,numbers:a.match(n)?a.match(n).map(Number):[0],strings:de.str(e)||t?a.split(n):[]}}function Ye(e){return ke(e?we(de.arr(e)?e.map(Oe):Oe(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function ze(e){var t=Ye(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:Ue(e)}}}))}function He(e,t){var n=Ae(t);if(/^spring/.test(n.easing)&&(n.duration=fe(n.easing)),de.arr(e)){var a=e.length;2===a&&!de.obj(e[0])?e={value:e}:de.fnc(t.duration)||(n.duration=t.duration/a)}var r=de.arr(e)?e:[e];return r.map((function(e,n){var a=de.obj(e)&&!de.pth(e)?e:{value:e};return de.und(a.delay)&&(a.delay=n?0:t.delay),de.und(a.endDelay)&&(a.endDelay=n===r.length-1?t.endDelay:0),a})).map((function(e){return Se(e,n)}))}function Ve(e,t){var n=[],a=t.keyframes;for(var r in a&&(t=Se(function(e){for(var t=ke(we(e.map((function(e){return Object.keys(e)}))),(function(e){return de.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},a=function(a){var r=t[a];n[r]=e.map((function(e){var t={};for(var n in e)de.key(n)?n==r&&(t.value=e[n]):t[n]=e[n];return t}))},r=0;r<t.length;r++)a(r);return n}(a),t)),t)de.key(r)&&n.push({name:r,tweens:He(t[r],e)});return n}function Qe(e,t){var n;return e.tweens.map((function(a){var r=function(e,t){var n={};for(var a in e){var r=Te(e[a],t);de.arr(r)&&1===(r=r.map((function(e){return Te(e,t)}))).length&&(r=r[0]),n[a]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(a,t),o=r.value,s=de.arr(o)?o[1]:o,c=Me(s),i=Pe(t.target,e.name,c,t),l=n?n.to.original:i,u=de.arr(o)?o[0]:l,d=Me(u)||Me(i),p=c||d;return de.und(s)&&(s=l),r.from=We(u,p),r.to=We(_e(s,u),p),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=be(r.easing,r.duration),r.isPath=de.pth(o),r.isColor=de.col(r.from.original),r.isColor&&(r.round=1),n=r,r}))}var Xe={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,a,r){if(a.list.set(t,n),t===a.last||r){var o=\"\";a.list.forEach((function(e,t){o+=t+\"(\"+e+\") \"})),e.style.transform=o}}};function Ze(e,t){ze(e).forEach((function(e){for(var n in t){var a=Te(t[n],e),r=e.target,o=Me(a),s=Pe(r,n,o,e),c=_e(Be(a,o||Me(s)),s),i=Ee(r,n);Xe[i](r,n,c,e.transforms,!0)}}))}function Ke(e,t){return ke(we(e.map((function(e){return t.map((function(t){return function(e,t){var n=Ee(e.target,t.name);if(n){var a=Qe(t,e),r=a[a.length-1];return{type:n,property:t.name,animatable:e,tweens:a,duration:r.end,delay:a[0].delay,endDelay:r.endDelay}}}(e,t)}))}))),(function(e){return!de.und(e)}))}function et(e,t){var n=e.length,a=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map((function(e){return a(e)+e.duration}))):t.duration,r.delay=n?Math.min.apply(Math,e.map((function(e){return a(e)+e.delay}))):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map((function(e){return a(e)+e.duration-e.endDelay}))):t.endDelay,r}var tt=0;var nt,at=[],rt=[],ot=function(){function e(){nt=requestAnimationFrame(t)}function t(t){var n=at.length;if(n){for(var a=0;a<n;){var r=at[a];if(r.paused){var o=at.indexOf(r);o>-1&&(at.splice(o,1),n=at.length)}else r.tick(t);a++}e()}else nt=cancelAnimationFrame(nt)}return e}();function st(e){void 0===e&&(e={});var t,n=0,a=0,r=0,o=0,s=null;function c(e){var t=window.Promise&&new Promise((function(e){return s=e}));return e.finished=t,t}var i=function(e){var t=Ce(re,e),n=Ce(oe,e),a=Ve(n,e),r=ze(e.targets),o=Ke(r,a),s=et(o,n),c=tt;return tt++,Se(t,{id:c,children:[],animatables:r,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}(e);c(i);function l(){var e=i.direction;\"alternate\"!==e&&(i.direction=\"normal\"!==e?\"normal\":\"reverse\"),i.reversed=!i.reversed,t.forEach((function(e){return e.reversed=i.reversed}))}function u(e){return i.reversed?i.duration-e:e}function d(){n=0,a=u(i.currentTime)*(1/st.speed)}function p(e,t){t&&t.seek(e-t.timelineOffset)}function f(e){for(var t=0,n=i.animations,a=n.length;t<a;){var r=n[t],o=r.animatable,s=r.tweens,c=s.length-1,l=s[c];c&&(l=ke(s,(function(t){return e<t.end}))[0]||l);for(var u=ie(e-l.start-l.delay,0,l.duration)/l.duration,d=isNaN(u)?1:l.easing(u),p=l.to.strings,f=l.round,m=[],v=l.to.numbers.length,h=void 0,g=0;g<v;g++){var $=void 0,b=l.to.numbers[g],y=l.from.numbers[g]||0;$=l.isPath?Je(l.value,d*b):y+d*(b-y),f&&(l.isColor&&g>2||($=Math.round($*f)/f)),m.push($)}var k=p.length;if(k){h=p[0];for(var w=0;w<k;w++){p[w];var O=p[w+1],D=m[w];isNaN(D)||(h+=O?D+O:D+\" \")}}else h=m[0];Xe[r.type](o.target,r.property,h,o.transforms),r.currentValue=h,t++}}function m(e){i[e]&&!i.passThrough&&i[e](i)}function v(e){var d=i.duration,v=i.delay,h=d-i.endDelay,g=u(e);i.progress=ie(g/d*100,0,100),i.reversePlayback=g<i.currentTime,t&&function(e){if(i.reversePlayback)for(var n=o;n--;)p(e,t[n]);else for(var a=0;a<o;a++)p(e,t[a])}(g),!i.began&&i.currentTime>0&&(i.began=!0,m(\"begin\")),!i.loopBegan&&i.currentTime>0&&(i.loopBegan=!0,m(\"loopBegin\")),g<=v&&0!==i.currentTime&&f(0),(g>=h&&i.currentTime!==d||!d)&&f(d),g>v&&g<h?(i.changeBegan||(i.changeBegan=!0,i.changeCompleted=!1,m(\"changeBegin\")),m(\"change\"),f(g)):i.changeBegan&&(i.changeCompleted=!0,i.changeBegan=!1,m(\"changeComplete\")),i.currentTime=ie(g,0,d),i.began&&m(\"update\"),e>=d&&(a=0,i.remaining&&!0!==i.remaining&&i.remaining--,i.remaining?(n=r,m(\"loopComplete\"),i.loopBegan=!1,\"alternate\"===i.direction&&l()):(i.paused=!0,i.completed||(i.completed=!0,m(\"loopComplete\"),m(\"complete\"),!i.passThrough&&\"Promise\"in window&&(s(),c(i)))))}return i.reset=function(){var e=i.direction;i.passThrough=!1,i.currentTime=0,i.progress=0,i.paused=!0,i.began=!1,i.loopBegan=!1,i.changeBegan=!1,i.completed=!1,i.changeCompleted=!1,i.reversePlayback=!1,i.reversed=\"reverse\"===e,i.remaining=i.loop,t=i.children;for(var n=o=t.length;n--;)i.children[n].reset();(i.reversed&&!0!==i.loop||\"alternate\"===e&&1===i.loop)&&i.remaining++,f(i.reversed?i.duration:0)},i.set=function(e,t){return Ze(e,t),i},i.tick=function(e){r=e,n||(n=r),v((r+(a-n))*st.speed)},i.seek=function(e){v(u(e))},i.pause=function(){i.paused=!0,d()},i.play=function(){i.paused&&(i.completed&&i.reset(),i.paused=!1,at.push(i),d(),nt||ot())},i.reverse=function(){l(),d()},i.restart=function(){i.reset(),i.play()},i.reset(),i.autoplay&&i.play(),i}function ct(e,t){for(var n=t.length;n--;)De(e,t[n].animatable.target)&&t.splice(n,1)}\"undefined\"!=typeof document&&document.addEventListener(\"visibilitychange\",(function(){document.hidden?(at.forEach((function(e){return e.pause()})),rt=at.slice(0),st.running=at=[]):rt.forEach((function(e){return e.play()}))})),st.version=\"3.1.0\",st.speed=1,st.running=at,st.remove=function(e){for(var t=Ye(e),n=at.length;n--;){var a=at[n],r=a.animations,o=a.children;ct(t,r);for(var s=o.length;s--;){var c=o[s],i=c.animations;ct(t,i),i.length||c.children.length||o.splice(s,1)}r.length||o.length||a.pause()}},st.get=Pe,st.set=Ze,st.convertPx=Ne,st.path=function(e,t){var n=de.str(e)?ye(e)[0]:e,a=t||100;return function(e){return{property:e,el:n,svg:Fe(n),totalLength:Le(n)*(a/100)}}},st.setDashoffset=function(e){var t=Le(e);return e.setAttribute(\"stroke-dasharray\",t),t},st.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||\"normal\",a=t.easing?be(t.easing):null,r=t.grid,o=t.axis,s=t.from||0,c=\"first\"===s,i=\"center\"===s,l=\"last\"===s,u=de.arr(e),d=u?parseFloat(e[0]):parseFloat(e),p=u?parseFloat(e[1]):0,f=Me(u?e[1]:e)||0,m=t.start||0+(u?d:0),v=[],h=0;return function(e,t,g){if(c&&(s=0),i&&(s=(g-1)/2),l&&(s=g-1),!v.length){for(var $=0;$<g;$++){if(r){var b=i?(r[0]-1)/2:s%r[0],y=i?(r[1]-1)/2:Math.floor(s/r[0]),k=b-$%r[0],w=y-Math.floor($/r[0]),O=Math.sqrt(k*k+w*w);\"x\"===o&&(O=-k),\"y\"===o&&(O=-w),v.push(O)}else v.push(Math.abs(s-$));h=Math.max.apply(Math,v)}a&&(v=v.map((function(e){return a(e/h)*h}))),\"reverse\"===n&&(v=v.map((function(e){return o?e<0?-1*e:-e:Math.abs(h-e)})))}return m+(u?(p-d)/h:d)*(Math.round(100*v[t])/100)+f}},st.timeline=function(e){void 0===e&&(e={});var t=st(e);return t.duration=0,t.add=function(n,a){var r=at.indexOf(t),o=t.children;function s(e){e.passThrough=!0}r>-1&&at.splice(r,1);for(var c=0;c<o.length;c++)s(o[c]);var i=Se(n,Ce(oe,e));i.targets=i.targets||e.targets;var l=t.duration;i.autoplay=!1,i.direction=t.direction,i.timelineOffset=de.und(a)?l:_e(a,l),s(t),t.seek(i.timelineOffset);var u=st(i);s(u),o.push(u);var d=et(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},st.easing=be,st.penner=$e,st.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var it=null,lt=!1;function ut(){$(\".no-chip-error\").show(\"scale\",(function(){$(\".tuner-nav\").data(\"disabled\",!0)}))}function dt(e){lt=!0,null!=c.GetData(\"currentVeh\")&&c.GetData(\"currentVeh\").id==e.id||c.StoreData(\"currentVeh\",e),$(\"#tuner-home-screen\").fadeIn(\"normal\")}window.addEventListener(\"message\",(function(e){switch(e.data.action){case\"ResetVehicle\":lt=!1}})),$(\"#screen-content\").on(\"click\",\".tuner-nav\",(function(e){if(!$(this).data(\"disabled\")){var t=$(this).data(\"section\");Ot.OpenApp(\"tuner-\".concat(t),null,!1,!0)}})),$(\"#screen-content\").on(\"click\",\"#no-chip-quit\",(function(){Ot.GoBack()}));var pt={Home:f,Contacts:I,Phone:x,Messages:L,Twitter:Y,Adverts:Q,Tuner:{OpenApp:function(){lt?$.post(a.ROOT_ADDRESS+\"/CheckInVeh\",JSON.stringify({veh:c.GetData(\"currentVeh\")}),(function(e){null!=e&&(e.sameVeh?dt(e):e?$.post(a.ROOT_ADDRESS+\"/SetupTuner\",JSON.stringify({}),(function(e){e?dt(e):ut()})):ut())})):$.post(a.ROOT_ADDRESS+\"/SetupTuner\",JSON.stringify({}),(function(e){e?dt(e):ut()}))},CloseApp:function(){clearTimeout(it),$(\".no-chip-error\").hide(),$(\"#tuner-home-screen\").hide(),$(\".tuner-nav\").removeData(\"disabled\")},Quick:K,Custom:ne,Legal:ae},Bank:{OpenApp:function(){},CloseApp:function(){}}},ft={PlayerDetails:{id:199,name:\"Please Work\",phone:\"111-111-1111\"},Contacts:[{name:\"Dickhole\",number:\"555-555-5556\"},{name:\"Contact 1\",number:\"555-555-5555\"},{name:\"ABC\",number:\"155-555-5555\"}],Messages:[{sender:\"111-111-1111\",receiver:\"555-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"555-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"555-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"555-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"555-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"333-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"333-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"333-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0}],Calls:[{id:1,sender:\"111-111-1111\",receiver:\"333-555-5555\",time:1566163235e3,status:0,anon:0},{id:2,sender:\"111-111-1111\",receiver:\"555-555-5555\",time:1566263235e3,status:1,anon:0},{id:3,sender:\"111-111-1111\",receiver:\"555-555-5555\",time:1566263235e3,status:2,anon:0},{id:4,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:0,anon:0},{id:5,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:1,anon:0},{id:6,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:2,anon:0},{id:7,sender:\"111-111-1111\",receiver:\"555-555-5555\",time:1566163235e3,status:0,anon:1},{id:8,sender:\"111-111-1111\",receiver:\"555-555-5555\",time:1566263235e3,status:1,anon:1},{id:9,sender:\"111-111-1111\",receiver:\"555-555-5555\",time:1566263235e3,status:2,anon:1},{id:10,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:0,anon:1},{id:11,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:1,anon:1},{id:12,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:2,anon:1}],Tweets:[{author:\"PleaseWork199\",message:\"@HiThere1 SUP BRO\",time:1562263235e3},{author:\"PleaseWork199\",message:\"asdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;a1\",time:1566263235e3},{author:\"PleaseWork199\",message:\"Please Work 199\",time:1566263235e3},{author:\"PleaseWork199\",message:\"Please Work 199\",time:1566263235e3},{author:\"PleaseWork199\",message:\"Please Work 199\",time:1566263235e3},{author:\"PleaseWork199\",message:\"Please Work 199\",time:1566263235e3}],Adverts:[{author:\"sdf Work\",phone:\"111-111-1111\",date:1516263235e3,title:\"Advert Title\",message:\"This Is An Advert Lol\"},{author:\"Test Work\",phone:\"555-555-5555\",date:1566263235e3,title:\"Advert Title\",message:\"This Is An Advert Lol\"},{author:\"Rawr Work\",phone:\"555-555-5555\",date:1566263235e3,title:\"Advert Title\",message:\"This Is An Advert Lol\"}],FactoryTunes:[{label:\"Sport\",boost:100,throttle:100,tranny:100,brakes:100,dt:100}],Tunes:[{id:1,label:\"Generic 1\",carOnly:!1,carModel:null,boost:10,throttle:20,tranny:30,brakes:40,dt:50},{id:2,label:\"Generic 2\",carOnly:!1,carModel:null,boost:100,throttle:90,tranny:80,brakes:70,dt:60},{id:3,label:\"Generic 3\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:4,label:\"Generic 4\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:5,label:\"Generic 5\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:6,label:\"Generic 6\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:7,label:\"Generic 7\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:8,label:\"Generic 8\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:9,label:\"Generic 9\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:10,label:\"Ruiner 1\",carOnly:!0,carModel:\"RUINER\",boost:10,throttle:20,tranny:30,brakes:40,dt:50},{id:11,label:\"Ruiner 2\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:90,tranny:80,brakes:70,dt:60},{id:12,label:\"Ruiner 3\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:13,label:\"Ruiner 4\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:14,label:\"Ruiner 5\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:15,label:\"Ruiner 6\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:16,label:\"Ruiner 7\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:17,label:\"Ruiner 8\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:18,label:\"LWGTR 1\",carOnly:!0,carModel:\"LWGTR\",boost:100,throttle:100,tranny:100,brakes:100,dt:100}]},mt=[{app:null,data:null,fade:null}],vt=!1;function ht(){$(\".modal\").modal(),$(\".dropdown-trigger\").dropdown({constrainWidth:!1}),$(\".tabs\").tabs(),$(\".char-count-input\").characterCounter(),$(\".phone-number\").mask(\"000-000-0000\",{placeholder:\"###-###-####\"})}function gt(){$.post(a.ROOT_ADDRESS+\"/ClosePhone\",JSON.stringify({})),$(\".wrapper\").hide(\"slide\",{direction:\"down\"},500,(function(){yt(mt[mt.length-1].app),$(\"#toast-container\").remove(),$(\".material-tooltip\").remove(),$(\".app-container\").hide(),mt=[{app:null,data:null,fade:null}]}))}function $t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];console.log($(\"#screen-content .app-container\").length),$(\"#screen-content .app-container\").length<=0||a?(console.log(\"/////\"),$(\"#screen-content\").html(\"\"),$(\"#screen-content\").load(\"./html/apps/\".concat(e,\".html\"),(function(){ht(),yt(mt[mt.length-1].app),n&&(mt.pop(),a=null,mt.pop()),mt.push({app:e,data:t,fade:a}),$(\".material-tooltip\").remove(),bt(e,t),$(\"#screen-content\").show()}))):$(\"#screen-content\").fadeOut(\"fast\",(function(){console.log(\"woooooooh\"),$(\"#screen-content\").html(\"\"),$(\"#screen-content\").load(\"./html/apps/\".concat(e,\".html\"),(function(){ht(),yt(mt[mt.length-1].app),n&&(mt.pop(),a=null,mt.pop()),mt.push({app:e,data:t,fade:a}),$(\".material-tooltip\").remove(),bt(e,t),$(\"#screen-content\").fadeIn(\"fast\")}))}))}function bt(e,t){switch(e){case\"home\":pt.Home.OpenApp();break;case\"contacts\":pt.Contacts.OpenApp();break;case\"message\":pt.Messages.OpenApp(),pt.Messages.SetupNewMessage();break;case\"message-convo\":pt.Messages.Convo.OpenApp(t);break;case\"phone\":pt.Phone.OpenApp();break;case\"phone-call\":pt.Phone.Call.OpenApp(t);break;case\"twitter\":pt.Twitter.OpenApp();break;case\"ads\":pt.Adverts.OpenApp();break;case\"tuner\":pt.Tuner.OpenApp(!0);break;case\"tuner-quick\":pt.Tuner.Quick.OpenApp();break;case\"tuner-custom\":pt.Tuner.Custom.OpenApp();break;case\"tuner-legal\":pt.Tuner.Legal.OpenApp()}}function yt(e){switch(e){case\"message-convo\":pt.Messages.Convo.CloseApp();break;case\"phone-call\":pt.Phone.Call.CloseApp();break;case\"tuner\":pt.Tuner.CloseApp();break;case\"tuner-quick\":pt.Tuner.Quick.CloseApp();break;case\"tuner-custom\":pt.Tuner.Custom.CloseApp();break;case\"tuner-legal\":pt.Tuner.Legal.CloseApp()}}function kt(){mt.length>1&&\"home\"!==mt[mt.length-1].app&&$t(\"home\")}function wt(){\"home\"!==mt[mt.length-1].app&&(mt.length>1?$t(mt[mt.length-2].app,mt[mt.length-2].data,!0,mt[mt.length-1].fade):kt())}moment.fn.fromNowOrNow=function(e){return Math.abs(moment().diff(this))<6e4?\"just now\":this.fromNow(e)},$((function(){$(\".wrapper\").fadeIn(),c.ClearData(),c.SetupData([{name:\"myData\",data:ft.PlayerDetails},{name:\"contacts\",data:ft.Contacts},{name:\"messages\",data:ft.Messages},{name:\"history\",data:ft.Calls},{name:\"apps\",data:a.Apps},{name:\"muted\",data:!1},{name:\"tweets\",data:ft.Tweets},{name:\"adverts\",data:ft.Adverts},{name:\"factory-tunes\",data:ft.FactoryTunes},{name:\"custom-tunes\",data:ft.Tunes}]),$t(\"home\",null,!0)})),window.addEventListener(\"message\",(function(e){switch(e.data.action){case\"setup\":c.SetupData(e.data.data);break;case\"show\":$(\".wrapper\").show(\"slide\",{direction:\"down\"},500),pt.Phone.Call.IsCallPending()?(mt=[{app:\"home\",data:null,fade:!1}],$t(\"phone-call\",{number:e.data.number,receiver:!e.data.initiator},!1)):$t(\"home\",null,!0);break;case\"hide\":gt();break;case\"logout\":c.ClearData();break;case\"setmute\":i.SetMute(e.data.muted);break;case\"updateTime\":i.UpdateClock(e.data.time);break;case\"updateUnread\":pt.Home.UpdateUnread(e.data.app,e.data.unread);break;case\"receiveText\":pt.Messages.Convo.ReceiveText(e.data.data.sender,e.data.data.text);break;case\"receiveCall\":$t(\"phone-call\",{number:e.data.number,receiver:!0},!1);break;case\"acceptCallSender\":case\"acceptCallReceiver\":pt.Phone.Call.CallAnswered();break;case\"endCall\":pt.Phone.Call.CallHungUp();break;case\"ReceiveNewTweet\":pt.Twitter.ReceiveNewTweet(e.data.tweet)}})),$((function(){document.onkeyup=function(e){114!=e.which&&27!=e.which||gt()}})),$(\".phone-header\").on(\"click\",\".in-call\",(function(e){\"phone-call\"!=mt[mt.length-1].app&&$t(\"phone-call\",null,!1)})),$(\".back-button\").on(\"click\",(function(e){vt||(wt(),vt=!0,setTimeout((function(){vt=!1}),500))})),$(\".home-button\").on(\"click\",(function(e){vt||(kt(),vt=!0,setTimeout((function(){vt=!1}),500))})),$(\".close-button\").on(\"click\",(function(e){gt()})),$(\"#remove-sim-card\").on(\"click\",(function(e){M.Modal.getInstance($(\"#remove-sim-conf\")).close(),i.NotifyAltSim(!1),u.Alert(\"Sim Removed\")})),$(\".mute\").on(\"click\",(function(e){var t=c.GetData(\"muted\");i.SetMute(!t)}));var Ot=t.default={GoHome:kt,GoBack:wt,OpenApp:$t,RefreshApp:function(){$(\".material-tooltip\").remove(),bt(mt[mt.length-1].app,mt[mt.length-1].data)},GetCurrentApp:function(){return mt[mt.length-1].app}}}]);","extractedComments":[]}