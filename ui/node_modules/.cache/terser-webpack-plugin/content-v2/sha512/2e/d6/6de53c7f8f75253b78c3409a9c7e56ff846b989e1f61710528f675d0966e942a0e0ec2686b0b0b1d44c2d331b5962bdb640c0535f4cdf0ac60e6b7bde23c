{"code":"!function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"\",a(a.s=0)}([function(e,t,a){\"use strict\";a.r(t);var n={ROOT_ADDRESS:\"http://mythic_phone2\",Apps:[{name:\"Contacts\",container:\"contacts\",icon:'<i class=\"fas fa-address-book\"></i>',color:\"#006064\",unread:0,enabled:!0},{name:\"Phone\",container:\"phone\",icon:'<i class=\"fas fa-phone\"></i>',color:\"#01579b\",unread:10,enabled:!0},{name:\"Messages\",container:\"message\",icon:'<i class=\"fas fa-comment-alt\"></i>',color:\"#311b92\",unread:1,enabled:!0},{name:\"Bank\",container:\"bank\",icon:'<i class=\"fas fa-university\"></i>',color:\"#b71c1c\",unread:0,enabled:!0},{name:\"Twitter\",container:\"twitter\",icon:'<i class=\"fab fa-twitter\"></i>',color:\"#039be5\",unread:1,enabled:!0},{name:\"Yellow Pages\",container:\"ads\",icon:'<i class=\"fas fa-ad\"></i>',color:\"#f9a825\",unread:0,enabled:!0},{name:\"IRC\",container:\"irc\",icon:'<i class=\"fas fa-comment-slash\"></i>',color:\"#1de9b6\",unread:55,enabled:!0},{name:\"Tuner\",container:\"tuner\",icon:'<i class=\"fas fa-tools\"></i>',color:\"#004d40\",unread:0,enabled:!0},{name:\"Settings\",container:\"settings\",icon:'<i class=\"fas fa-cogs\"></i>',color:\"#404040\",unread:0,enabled:!0}]};function o(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function r(e){return JSON.parse(window.localStorage.getItem(e))}var s={SetupData:function(e){$.each(e,(function(e,t){window.localStorage.setItem(t.name,JSON.stringify(t.data))}))},StoreData:o,AddData:function(e,t){var a=r(e);a.push(t),o(e,a)},RemoveData:function(e,t){var a=r(e);a.splice(t,1),o(e,a)},UpdateData:function(e,t,a){var n=r(e);n[t]=a,o(e,n)},GetData:r,ClearData:function(){window.localStorage.clear()},StoreDataLua:function(e,t){$.post(n.ROOT_ADDRESS+\"/RegiseterData\",JSON.stringify({key:e,data:t}))},GetDataLua:function(e){$.post(n.ROOT_ADDRESS+\"/GetData\",JSON.stringify({key:e}),(function(e){return e}))}};var i={DateSortNewest:function(e,t){return null!=e.time?e.time<t.time?1:-1:e.date<t.date?1:-1},DateSortOldest:function(e,t){return null!=e.time?e.time>t.time?1:-1:e.date>t.date?1:-1},UpdateClock:function(e){$(\".time span\").html(e)},NotifyAltSim:function(e){e?$(\".simcard\").fadeIn():$(\".simcard\").fadeOut()},NotifyPayphone:function(e){e?$(\".payphone\").fadeIn():$(\".payphone\").fadeOut()},SetMute:function(e){e?($(\".mute\").html('<i class=\"fas fa-volume-mute\"></i>'),$(\".mute\").removeClass(\"not-muted\").addClass(\"muted\"),s.StoreData(\"muted\",!0)):($(\".mute\").html('<i class=\"fas fa-volume-up\"></i>'),$(\".mute\").removeClass(\"muted\").addClass(\"not-muted\"),s.StoreData(\"muted\",!1))}},c=null;$(\"#home-container\").on(\"click\",\".app-button\",(function(e){vt.OpenApp($(this).data(\"container\"))}));var l={OpenApp:function(){c=s.GetData(\"apps\"),$(\"#home-container .inner-app\").html(\"\"),$.each(c,(function(e,t){if(t.enabled){t.unread>0?$(\"#home-container .inner-app\").append('<div class=\"app-button\" data-tooltip=\"'+t.name+'\"><div class=\"app-icon\" id=\"'+t.container+'-app\" style=\"background-color: '+t.color+'\"> '+t.icon+'<div class=\"badge pulse\">'+t.unread+\"</div></div></div>\"):$(\"#home-container .inner-app\").append('<div class=\"app-button\" data-tooltip=\"'+t.name+'\"><div class=\"app-icon\" id=\"'+t.container+'-app\" style=\"background-color: '+t.color+'\"> '+t.icon+\"</div></div>\");var a=$(\"#home-container .app-button:last-child\");a.tooltip({enterDelay:0,exitDelay:0,inDuration:0}),a.data(\"container\",t.container)}}))},ToggleApp:function(e,t){var a=Apps.filter((function(t){return t.container===e}))[0];t?(a.enabled=!0,SetupHome()):($(\"#\"+a.container+\"-app\").parent().fadeOut(),a.enabled=!1)},UpdateUnread:function(e,t){null==c&&(c=s.GetData(\"apps\")),$.each(c,(function(a,n){if(n.container==e)return n.unread=t,!1})),s.StoreData(\"apps\",c),SetupHome()}},d=null,u=null,p=null,m=new Object;function f(){clearInterval(u),$(\".call-avatar\").addClass(\"call-connected\").removeClass(\"call-pending\"),$(\".phone-header\").removeClass(\"in-call\"),null==p&&(m.seconds=0,m.minutes=0,m.hours=0,p=setInterval((function(){m.seconds<59?m.seconds++:m.minutes<60?(m.seconds=0,m.minutes++):(m.seconds=0,m.minutes=0,m.hours++);var e=m.seconds,t=m.minutes;e<10&&(e=\"0\"+e),t<10&&(t=\"0\"+t),$(\".call-number .call-timer\").html(m.hours+\":\"+t+\":\"+e),$(\".phone-header .in-call\").html('<i class=\"fas fa-phone\"></i> '.concat(m.hours,\":\").concat(t,\":\").concat(e))}),1e3),$(\".phone-header .in-call\").fadeOut())}$(\".call-action-mutesound\").on(\"click\",(function(e){$(this).data(\"active\")?($(this).html('<i class=\"fas fa-volume-mute\"></i><span>Mute Sound</span>'),$(this).data(\"active\",!1)):($(this).html('<i class=\"fas fa-volume-up\"></i><span>Unmute Sound</span>'),$(this).data(\"active\",!0))})),$(\".call-action-mutemic\").on(\"click\",(function(e){$(this).data(\"active\")?($(this).html('<i class=\"fas fa-microphone-slash\"></i><span>Mute Mic</span>'),$(this).data(\"active\",!1)):($(this).html('<i class=\"fas fa-microphone\"></i><span>Unmute Mic</span>'),$(this).data(\"active\",!0))})),$(\"#end-call\").on(\"click\",(function(e){$.post(n.ROOT_ADDRESS+\"/EndCall\",JSON.stringify())})),$(\"#answer-call\").on(\"click\",(function(e){$.post(n.ROOT_ADDRESS+\"/AcceptCall\",JSON.stringify({}))}));var v={OpenApp:function(e){if(null==p&&null!=e)if(d=s.GetData(\"contacts\"),e.receiver){$(\".call-button#answer-call\").show(),$(\"#phone-call-container\").data(\"data\",e);var t=d.filter((function(t){return t.number==e.number}))[0];null!=t?($(\"#phone-call-container\").addClass(\"other-\"+t.name[0].toString().toLowerCase()),$(\".call-number .call-number-text\").html(t.name),$(\".call-number .call-subnumber\").html(t.number),$(\".call-header .call-avatar\").html(t.name[0])):($(\".call-number .call-number-text\").html(e.number),$(\".call-number .call-subnumber\").html(\"\"),$(\".call-header .call-avatar\").html(\"#\")),$(\".call-avatar\").addClass(\"call-pending\");var a=\"\";clearInterval(u),u=setInterval((function(){\"...\"===a?a=\"\":a+=\".\",$(\".call-number .call-timer\").html(\"Incoming \"+a)}),500)}else{$(\".call-button#answer-call\").hide(),$(\"#phone-call-container\").data(\"data\",e);var n=d.filter((function(t){return t.number==e.number}))[0];null!=n?($(\"#phone-call-container\").addClass(\"other-\"+n.name[0].toString().toLowerCase()),$(\".call-number .call-number-text\").html(n.name),$(\".call-number .call-subnumber\").html(n.number),$(\".call-header .call-avatar\").html(n.name[0])):($(\".call-number .call-number-text\").html(e.number),$(\".call-number .call-subnumber\").html(\"\"),$(\".call-header .call-avatar\").html(\"#\")),$(\".call-avatar\").addClass(\"call-pending\");var o=\"\";clearInterval(u),u=setInterval((function(){\"...\"===o?o=\"\":o+=\".\",$(\".call-number .call-timer\").html(\"Calling \"+o)}),500)}else f()},CloseApp:function(){if(null!=p)return $(\".phone-header\").addClass(\"in-call\"),void $(\".phone-header .in-call\").fadeIn();d=null,clearInterval(u),u=null,$(\"#phone-call-container\").attr(\"class\",\"app-container\"),$(\".call-avatar\").attr(\"class\",\"call-avatar\"),$(\".call-number .call-timer\").html(\"Calling\"),$(\"#phone-call-container\").removeData(\"data\"),$(\".call-number .call-number-text\").html(\"\"),$(\".call-number .call-subnumber\").html(\"\"),$(\".call-action-mutemic\").html('<i class=\"fas fa-microphone-slash\"></i><span>Mute Mic</span>'),$(\".call-action-mutesound\").html('<i class=\"fas fa-volume-mute\"></i><span>Mute Sound</span>')},IsCallPending:function(){return null!=u||null!=p},CallAnswered:f,CallHungUp:function(){$(\".call-number .call-timer\").html(\"ENDED\"),clearInterval(p),clearInterval(u),p=null,u=null,$(\".call-avatar\").addClass(\"call-disconnected\").removeClass(\"call-connected\").removeClass(\"call-pending\"),$(\".phone-header\").attr(\"class\",\"phone-header\"),$(\".phone-header .in-call\").fadeOut(\"fast\",(function(){$(\".phone-header .in-call\").html('<i class=\"fas fa-phone\"></i>')})),setTimeout((function(){$(\".call-number .call-timer\").html(\"Calling\"),$(\".call-avatar\").attr(\"class\",\"call-avatar\"),\"phone-call\"==vt.GetCurrentApp()&&(vt.GoBack(),setTimeout((function(){$(\"#phone-call-container\").attr(\"class\",\"app-container\")}),500))}),2500)}},h=null,g=null,b=null,y=null;function k(e){var t=g.filter((function(t){return t.number==e}))[0];null!=t?($(\".keypad-top .contact-display\").html(t.name),$(\".keypad-top .contact-display\").fadeIn()):$(\".keypad-top .contact-display\").fadeOut()}function w(){var e=$(\".keypad-top #type\").val();\"#\"===e[0]?($(\".keypad-top .call-type\").html(\"Calling Anonymously\"),$(\".keypad-top .call-type\").is(\":hidden\")&&$(\".keypad-top .call-type\").fadeIn()):\"*\"==e[0]?($(\".keypad-top .call-type\").html(\"Calling UNK\"),$(\".keypad-top .call-type\").is(\":hidden\")&&$(\".keypad-top .call-type\").fadeIn()):$(\".keypad-top .call-type\").is(\":visible\")&&$(\".keypad-top .call-type\").fadeOut(\"fast\",(function(){$(\".keypad-top .call-type\").html(\"CALL TYPE\")}))}function O(e,t,a){console.log(e),$.post(n.ROOT_ADDRESS+\"/CreateCall\",JSON.stringify({number:e,nonStandard:t}),(function(n){n>0?vt.OpenApp(\"phone-call\",{number:e,nonStandard:t,receiver:a}):-2==n?M.toast({html:\"Can't Call Yourself, Idiot\"}):-3==n?M.toast({html:\"Number is Busy\"}):M.toast({html:\"Number Not Currently Active\"})}))}$(\".phone-nav-button\").on(\"click\",(function(e){if(!$(this).hasClass(\"active-nav\")){var t=$(\".active-nav\").data(\"nav\");$(\".active-nav\").removeClass(\"active-nav\");var a=$(this).data(\"nav\");$(this).addClass(\"active-nav\"),$(\"[data-section=\"+t+\"]\").fadeOut(\"fast\",(function(){$(\"[data-section=\"+a+\"]\").fadeIn()}))}})),$(\"[data-section=keypad\").on(\"click\",\".keypad-top .delete-num-btn\",(function(e){var t=$(\".keypad-top #number\").val();if(t.length>0){var a=t.substring(0,t.length-1);$(\".keypad-top #number\").val($(\".keypad-top #number\").masked(a))}else null!=$(\".keypad-top #type\").val()&&$(\".keypad-top #type\").val(\"\");k($(\".keypad-top #number\").val()),w()})),$(\"[data-section=keypad\").on(\"mousedown\",\".keypad-top .delete-num-btn\",(function(e){var t=$(\".keypad-top #number\").val();return y=setInterval((function(){if(t.length>0){var e=t.substring(0,t.length-1);$(\".keypad-top #number\").val($(\".keypad-top #number\").masked(e)),t=$(\".keypad-top #number\").val(),k($(\".keypad-top #number\").val()),w()}}),250),!1})),$(\"[data-section=keypad\").on(\"submit\",\"#call-number\",(function(e){e.preventDefault();var t=$(this).serializeArray();O(t[1].value,\"#\"===t[0].value||\"*\"===t[0].value,!1)})),$(document).mouseup((function(){return clearInterval(y),!1})),$(\"[data-section=keypad\").on(\"click\",\".keypad-key\",(function(e){if(!$(this).hasClass(\"key-call\")){var t=$(this).data(\"value\"),a=$(\".keypad-top #number\").val();\"#\"===t||\"*\"===t?$(\".keypad-top #type\").val()===t?$(\".keypad-top #type\").val(\"\"):$(\".keypad-top #type\").val(t):a.length<12&&(a+=t,$(\".keypad-top #number\").val($(\".keypad-top #number\").masked(a)))}k($(\".keypad-top #number\").val()),w(),$(\".keypad-top #number\").get(0).focus()})),$(\"[data-section=history\").on(\"click\",\".call\",(function(e){$(this).find(\".call-actions\").is(\":visible\")?$(this).find(\".call-actions\").slideUp():($(this).parent().find(\".call-actions\").slideUp(),$(this).find(\".call-actions\").slideDown())})),$(\"[data-section=history\").on(\"click\",\".call-actions .call-action-call\",(function(e){var t=$(this).parent().parent().data(\"data\"),a=t.sender;t.sender==h&&(a=t.receiver),O(a,!1,!1)})),$(\"[data-section=history\").on(\"click\",\".call-actions .call-action-text\",(function(e){var t=$(this).parent().parent().data(\"data\"),a=t.sender;t.sender==h&&(a=t.receiver),vt.OpenApp(\"message-convo\",{number:a})})),$(\"[data-section=history\").on(\"click\",\".call-actions .call-action-delete\",(function(e){var t=$(this).parent().parent().data(\"data\");$.post(n.ROOT_ADDRESS+\"/DeleteCallRecord\",JSON.stringify({id:t.id}),(function(e){e?$(this).parent().parent().fadeOut(\"normal\",(function(){s.RemoveData(\"history\",t.index),vt.RefreshApp(),M.toast({html:\"Call Record Deleted\"})})):M.toast({html:\"Error Deleting Call Record\"})}))})),$(\"[data-section=contacts\").on(\"keyup\",\".contact-search input\",(function(e){e.preventDefault();var t=$(this).val();\"\"!==t?$.each($(this).parent().parent().find(\".contacts-list\").children(),(function(e,a){var n=$(a).data(\"data\");n.name.toUpperCase().includes(t.toUpperCase())||n.number.includes(t.toUpperCase())?$(a).fadeIn():$(a).fadeOut()})):$.each($(this).parent().parent().find(\".contacts-list\").children(),(function(e,t){$(t).fadeIn()}))})),$(\"[data-section=contacts\").on(\"click\",\".phone-contact\",(function(e){$(this).find(\".call-actions\").is(\":visible\")?$(this).find(\".call-actions\").slideUp():($(this).parent().find(\".call-actions\").slideUp(),$(this).find(\".call-actions\").slideDown())})),$(\"[data-section=contacts\").on(\"click\",\".call-actions .call-action-call\",(function(e){O($(this).parent().parent().data(\"data\").number,!1,!1)})),$(\"[data-section=contacts\").on(\"click\",\".call-actions .call-action-text\",(function(e){var t=$(this).parent().parent().data(\"data\");vt.OpenApp(\"message-convo\",{number:t.number})})),$(\".call-action-mute\").on(\"click\",(function(e){}));var D={OpenApp:function(){h=s.GetData(\"myData\").phone,g=s.GetData(\"contacts\"),b=s.GetData(\"history\"),$(\"[data-section=contacts\").find(\".contacts-list\").html(\"\"),g.sort(x.SortContacts),$.each(g,(function(e,t){$(\"[data-section=contacts\").find(\".contacts-list\").append('<div class=\"phone-contact\"><div class=\"phone-avatar other-'+t.name[0].toString().toLowerCase()+'\">'+t.name[0]+\"</div>\"+t.name+'<div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i></div></div>'),$(\"[data-section=contacts\").find(\".contacts-list\").find(\".phone-contact:last-child\").data(\"data\",t)})),b.sort(i.DateSortOldest),$(\"[data-section=history\").html(\"\"),$.each(b,(function(e,t){if(t.sender==h){var a=g.filter((function(e){return e.number==t.receiver}))[0];0==t.status?null!=a?$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone icon-outgoing-missed\"></i><span>'+a.name+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone icon-outgoing-missed\"></i><span>'+t.receiver+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):1==t.status&&(null!=a?$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone icon-outgoing\"></i><span>'+a.name+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone icon-outgoing\"></i><span>'+t.receiver+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'))}else if(0==t.anon){var n=g.filter((function(e){return e.number==t.sender}))[0];0==t.status?null!=n?$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone-alt icon-incoming-missed\"></i><span>'+n.name+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone-alt icon-incoming-missed\"></i><span>'+t.sender+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):1==t.status&&(null!=n?$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone-alt icon-incoming\"></i><span>'+n.name+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'):$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone-alt icon-incoming\"></i><span>'+t.sender+'</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume call-action-call\"></i><i class=\"fas fa-sms call-action-text\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>'))}else t.status,$(\"[data-section=history\").prepend('<div class=\"call\"><i class=\"fas fa-phone-alt icon-incoming\"></i><span>Unknown Number</span><div class=\"timestamp\">'+moment(t.date).calendar()+'</div><div class=\"call-actions\"><i class=\"fas fa-phone-volume action-disabled\"></i><i class=\"fas fa-sms action-disabled\"></i><i class=\"fas fa-trash-alt call-action-delete\"></i></div></div>');t.index=e,$(\"[data-section=history\").find(\".call:first-child\").data(\"data\",t)})),setTimeout((function(){$(\".keypad-top #number\").get(0).focus()}),1500)},CreateCall:O,Call:v},C=null,A=null;function S(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0}$(\".contacts-list\").on(\"click\",\".contact\",(function(e){$(this).find(\".contact-actions\").is(\":visible\")?$(this).find(\".contact-actions\").slideUp():($(this).parent().find(\".contact-actions\").slideUp(),$(this).find(\".contact-actions\").slideDown())})),$(\"#search-contacts\").on(\"keyup\",(function(e){e.preventDefault();var t=$(this).val();\"\"!==t?$.each($(this).parent().parent().find(\".contacts-list\").children(),(function(e,a){var n=$(a).data(\"contact\");n.name.toUpperCase().includes(t.toUpperCase())||n.number.includes(t.toUpperCase())?$(a).fadeIn():$(a).fadeOut()})):$.each($(this).parent().parent().find(\".contacts-list\").children(),(function(e,t){$(t).fadeIn()}))})),$(\"#contact-add-number\").on(\"keydown\",(function(e){switch(e.which){case 8:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:break;default:e.preventDefault()}})),$(\"#contact-edit-number\").on(\"keydown\",(function(e){switch(e.which){case 8:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:break;default:e.preventDefault()}})),$(\"#contacts-add-contact\").on(\"submit\",(function(e){e.preventDefault();var t=$(this).serializeArray(),a=t[0].value,o=t[1].value;$.post(n.ROOT_ADDRESS+\"/CreateContact\",JSON.stringify({name:a,number:o}),(function(e){e?(M.Modal.getInstance($(\"#add-contact-modal\")).close(),null==C&&(C=new Array),vt.AddData(\"contacts\",{name:a,number:o,index:C.length}),$(\".contacts-list\").append('<div class=\"contact waves-effect\"><div class=\"contact-avatar other-'+a[0].toString().toLowerCase()+'\">'+a[0]+'</div><div class=\"contact-name\"><div class=\"contact-name-text\">'+a+'</div><div class=\"number\">('+o+')</div></div><div class=\"contact-actions waves-effect\"><i class=\"fas fa-phone-volume action-call\"></i><i class=\"fas fa-sms action-text\"></i><i class=\"fas fa-user-edit action-edit modal-trigger\" data-target=\"edit-contact-modal\"></i><i class=\"fas fa-trash-alt action-delete\"></i></div></div>'),$(\".contacts-list .contact:last-child\").data(\"contact\",{name:a,number:o,index:C.length-1}),$(\".contacts-list\").animate({scrollTop:$(\".contacts-list .contact:last-child\").offset().top},2e3),$(\".contacts-list .contact:last-child\").find(\".contact-name\").trigger(\"click\"),M.toast({html:\"Contact Added\"}),$(\"#contact-add-name\").val(\"\"),$(\"#contact-add-name\").next().removeClass(\"active\"),$(\"#contact-add-number\").val(\"\"),$(\"#contact-add-number\").next().removeClass(\"active\")):M.toast({html:\"Error Adding Contact\"})}))})),$(\"#contacts-edit-contact\").on(\"submit\",(function(e){e.preventDefault();var t=$(this).serializeArray(),a=$(A).data(\"contact\"),o=t[0].value,r=t[1].value;$.post(n.ROOT_ADDRESS+\"/EditContact\",JSON.stringify({originName:a.name,originNumber:a.number,name:o,number:r}),(function(e){e?(M.Modal.getInstance($(\"#edit-contact-modal\")).close(),s.UpdateData(\"contacts\",a.index,{name:o,number:r,index:a.index}),$(A).html('<div class=\"contact-avatar other-'+o[0].toString().toLowerCase()+'\">'+o[0]+'</div><div class=\"contact-name\"><div class=\"contact-name-text\">'+o+'</div><div class=\"number\">('+r+')</div></div><div class=\"contact-actions\"><i class=\"fas fa-phone-volume action-call\"></i><i class=\"fas fa-sms action-text\"></i><i class=\"fas fa-user-edit action-edit modal-trigger\" data-target=\"edit-contact-modal\"></i><i class=\"fas fa-trash-alt action-delete\"></i></div>'),$(A).data(\"contact\",{name:o,number:r,index:a.index}),$(A).find(\".contact-name\").trigger(\"click\"),M.toast({html:\"Contact Updated\"}),$(\"#contact-edit-name\").val(\"\"),$(\"#contact-edit-name\").next().removeClass(\"active\"),$(\"#contact-edit-number\").val(\"\"),$(\"#contact-edit-number\").next().removeClass(\"active\")):M.toast({html:\"Error Updating Contact\"})}))})),$(\".contacts-list\").on(\"click\",\"contact-actions .action-call\",(function(e){var t=$(this).parent().parent().data(\"contact\");D.CreateCall(t.number,!1,!1)})),$(\".contacts-list\").on(\"click\",\".contact-actions .action-text\",(function(e){var t=$(this).parent().parent().data(\"contact\");vt.OpenApp(\"message-convo\",{number:t.number})})),$(\".contacts-list\").on(\"click\",\".contact-actions .action-edit\",(function(e){var t=$(this).parent().parent().data(\"contact\");A=$(this).parent().parent(),$(\"#contact-edit-name\").val(t.name),$(\"#contact-edit-number\").val(t.number),M.updateTextFields()})),$(\".contacts-list\").on(\"click\",\".contact-actions .action-delete\",(function(e){var t=$(this),a=t.parent().parent().data(\"contact\");$.post(n.ROOT_ADDRESS+\"/DeleteContact\",JSON.stringify({name:a.name,number:a.number}),(function(e){e?(t.parent().parent().fadeOut(\"normal\",(function(){t.parent().parent().remove()})),M.toast({html:\"Contact Deleted\"}),vt.RemoveData(\"contacts\",a.index)):M.toast({html:\"Error Deleting Contact\"})}))}));var x={OpenApp:function(){(C=s.GetData(\"contacts\")).sort(S),$(\".contacts-list\").html(\"\"),$.each(C,(function(e,t){$(\".contacts-list\").append('<div class=\"contact waves-effect\"><div class=\"contact-avatar other-'+t.name[0].toString().toLowerCase()+'\">'+t.name[0]+'</div><div class=\"contact-name\"><div class=\"contact-name-text\">'+t.name+'</div><div class=\"number\">('+t.number+')</div></div><div class=\"contact-actions\"><i class=\"fas fa-phone-volume action-call\"></i><i class=\"fas fa-sms action-text\"></i><i class=\"fas fa-user-edit action-edit  modal-trigger\" data-target=\"edit-contact-modal\"></i><i class=\"fas fa-trash-alt action-delete\"></i></div></div>'),t.index=e,$(\".contacts-list .contact:last-child\").data(\"contact\",t)}))},SortContacts:S},R=null,N=null,T=null;$(\".convo-top-bar\").on(\"click\",\".convo-action-addcontact\",(function(e){var t=$(\"#message-convo-container\").data(\"data\");$(\"#convo-add-contact-number\").val(t.number)})),$(\"#convo-add-contact\").on(\"submit\",(function(e){e.preventDefault();var t=$(this).serializeArray(),a=t[0].value,o=t[1].value;$.post(n.ROOT_ADDRESS+\"/CreateContact\",JSON.stringify({name:a,number:o}),(function(e){e?(null==N&&(N=new Array),s.AddData(\"contacts\",{name:a,number:o,index:N.length}),M.Modal.getInstance($(\"#convo-add-contact-modal\")).close(),$(\"#convo-add-contact-name\").val(\"\"),$(\"#convo-add-contact-number\").val(\"555-555-5555\"),M.toast({html:\"Contact Added\"}),vt.RefreshApp()):M.toast({html:\"Error Adding Contact\"})}))})),$(\"#convo-new-text\").on(\"submit\",(function(e){e.preventDefault();var t=$(\"#message-convo-container\").data(\"data\"),a=$(this).serializeArray(),n=[{value:t.number},{value:a[0].value}];_.SendNewText(n,(function(e){e&&($(\".convo-texts-list\").append('<div class=\"text me-sender\"><span>'+a[0].value+\"</span><p>\"+moment(Date.now()).fromNowOrNow()+\"</p></div>\"),M.toast({html:\"Message Sent\"}),$(\"#convo-input\").val(\"\"),null!=$(\".convo-texts-list .text:last-child\").offset()&&$(\".convo-texts-list\").animate({scrollTop:$(\".convo-texts-list\")[0].scrollHeight-$(\".convo-texts-list\")[0].clientHeight},200))}))})),$(\"#convo-delete-all\").on(\"click\",(function(e){e.preventDefault();var t=$(\"#message-convo-container\").data(\"data\");$.post(n.ROOT_ADDRESS+\"/DeleteConversation\",JSON.stringify({number:t.number}),(function(e){if(e){var a=T.filter((function(e){return e.sender!=t.number&&e.receiver!=t.number}));s.StoreData(\"messages\",a),M.toast({html:\"Conversation Deleted\"}),GoBack()}else M.toast({html:\"Error Deleting Conversation\"})}))}));var I={OpenApp:function(e){R=s.GetData(\"myData\").phone,N=s.GetData(\"contacts\"),T=s.GetData(\"messages\"),$(\"#message-convo-container\").data(\"data\",e);var t=T.filter((function(t){return t.sender==e.number&&t.receiver==R||t.sender==R&&t.receiver==e.number})),a=N.filter((function(t){return t.number==e.number}))[0];null!=a?($(\".convo-action-addcontact\").hide(),$(\".convo-top-number\").html(a.name),$(\".convo-top-bar\").attr(\"class\",\"convo-top-bar other-\"+a.name[0])):($(\".convo-action-addcontact\").show(),$(\".convo-top-number\").html(e.number)),$(\".convo-texts-list\").html(\"\"),$.each(t,(function(e,t){var n=new Date(t.sent_time);t.sender==R?($(\".convo-texts-list\").append('<div class=\"text me-sender\"><span>'+t.message+\"</span><p>\"+moment(n).fromNowOrNow()+\"</p></div>\"),t.receiver==R&&(null!=a?$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span class=\" other-'+a.name[0]+'\">'+t.message+\"</span><p>\"+moment(n).fromNowOrNow()+\"</p></div>\"):$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span>'+t.message+\"</span><p>\"+moment(n).fromNowOrNow()+\"</p></div>\"))):null!=a?$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span class=\" other-'+a.name[0]+'\">'+t.message+\"</span><p>\"+moment(n).fromNowOrNow()+\"</p></div>\"):$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span>'+t.message+\"</span><p>\"+moment(n).fromNowOrNow()+\"</p></div>\")})),null!=$(\".convo-texts-list .text:last-child\").offset()&&$(\".convo-texts-list\").animate({scrollTop:$(\".convo-texts-list .text:last-child\").offset().top},25)},CloseApp:function(){R=null,N=null,T=null,$(\"#message-convo-container\").removeData(\"data\"),$(\".convo-texts-list\").html(\"\"),$(\".convo-top-bar\").attr(\"class\",\"convo-top-bar\")},ReceiveText:function(e,t){var a=$(\"#message-convo-container\").data(\"data\");if(null!=a){var n=N.filter((function(e){return e.number==a.number}))[0];a.number==t.sender&&(null!=n?$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span class=\" other-'+n.name[0]+'\">'+t.message+\"</span><p>\"+moment(Date.now()).fromNowOrNow()+\"</p></div>\"):$(\".convo-texts-list\").append('<div class=\"text other-sender\"><span>'+t.message+\"</span><p>\"+moment(Date.now()).fromNowOrNow()+\"</p></div>\"),null!=$(\".convo-texts-list .text:last-child\").offset()&&$(\".convo-texts-list\").animate({scrollTop:$(\".convo-texts-list\")[0].scrollHeight-$(\".convo-texts-list\")[0].clientHeight},200))}null==T&&(T=s.GetData(\"messages\")),null==R&&(R=s.GetData(\"myData\").phone),s.AddData(\"messages\",{sender:t.sender,receiver:R,message:t.message,sent_time:t.sent_time,sender_read:0,receiver_read:0})}},U=null,E=null,G=null;function P(e,t){$.post(n.ROOT_ADDRESS+\"/SendText\",JSON.stringify({receiver:e[0].value,message:e[1].value}),(function(e){null!=e?(null==G&&(G=new Array),s.AddData(\"messages\",{sender:U,receiver:e.receiver,message:e.message,sent_time:e.sent_time,sender_read:0,receiver_read:0}),t(!0)):(M.toast({html:\"Unable To Send Text\"}),t(!1))}))}$(\".messages-list\").on(\"click\",\".message\",(function(e){vt.OpenApp(\"message-convo\",$(this).data(\"message\"),!1,!0)})),$(\"#message-new-contact\").on(\"change\",(function(e){var t=$(this).val();$(\"#message-new-number\").val(t)})),$(\"#message-new-msg\").on(\"submit\",(function(e){e.preventDefault(),P($(this).serializeArray(),(function(e){e&&(M.Modal.getInstance($(\"#messages-new-modal\")).close(),M.toast({html:\"Message Sent\"}),vt.RefreshApp())}))}));var _={OpenApp:function(){U=s.GetData(\"myData\").phone,E=s.GetData(\"contacts\"),G=s.GetData(\"messages\"),$.post(n.ROOT_ADDRESS+\"/ClearUnread\",JSON.stringify({app:\"messages\"}));var e=new Array;$.each(G,(function(t,a){var n=new Object;a.sender==U?n.number=a.receiver:n.number=a.sender,n.message=a.message,n.receiver=a.receiver,n.sender=a.sender,n.time=new Date(a.sent_time);var o=e.filter((function(e){return e.number===n.number}))[0];null==o?e.push(n):n.time>o.time&&($.each(e,(function(t,a){a==o&&(e[t]=n)})),e[o.number]=n)})),e.sort(i.DateSortNewest),$(\"#message-container .inner-app .messages-list\").html(\"\"),$.each(e,(function(e,t){var a=null;null!=E&&(a=E.filter((function(e){return e.number==t.number}))[0]),null==a?$(\"#message-container .inner-app .messages-list\").append('<div class=\"message waves-effect\"><div class=\"text-avatar\">#</div><div class=\"text-name\">'+t.number+'</div><div class=\"text-message\">'+t.message+'</div><div class=\"text-time\">'+moment(t.time).fromNowOrNow()+\"</div></div>\"):$(\"#message-container .inner-app .messages-list\").append('<div class=\"message waves-effect\"><div class=\"text-avatar other-'+a.name[0].toString().toLowerCase()+'\">'+a.name[0]+'</div><div class=\"text-name\">'+a.name+'</div><div class=\"text-message\"> '+t.message+'</div><div class=\"text-time\">'+moment(t.time).fromNowOrNow()+\"</div></div>\"),$(\".messages-list .message:last-child\").data(\"message\",t)}))},SetupNewMessage:function(){$(\"#message-new-contact\").html(\"\"),$(\"#message-new-contact\").append('<option value=\"\">Choose Contact</option>'),$.each(E,(function(e,t){$(\"#message-new-contact\").append('<option value=\"'+t.number+'\">'+t.name+\" (\"+t.number+\")</option>\")})),$(\"#message-new-number\").val(\"\"),$(\"#message-new-body\").val(\"\"),$(\"#message-new-contact\").formSelect()},SendNewText:P,Convo:I},j=null,B=null;function q(e){var t=/\\B@[a-z0-9_-]+/gi,a=e.message.match(t);$.each(a,(function(t,a){e.message=e.message.replace(a,'<span class=\"mention\" data-mention=\"'.concat(a.replace(\"@\",\"\"),'\">').concat(a,\"</span>\"))})),t=/\\B#[a-z0-9_-]+/gi,a=e.message.match(t),$.each(a,(function(t,a){e.message=e.message.replace(a,'<span class=\"hashtag\" data-hashtag=\"'.concat(a.replace(\"#\",\"\"),'\">').concat(a,\"</span>\"))})),$(\".twitter-body\").prepend('\\n        <div class=\"tweet\">\\n            <div class=\"avatar other-'.concat(e.author[0].toString().toLowerCase(),'\">').concat(e.author[0],'</div>\\n            <div class=\"author\">').concat(e.author,'</div>\\n            <div class=\"body\">').concat(e.message,'</div>\\n            <div class=\"time\" data-tooltip=\"').concat(moment(e.time).format(\"MM/DD/YYYY\"),\" \").concat(moment(e.time).format(\"hh:mmA\"),'\">').concat(moment(e.time).fromNowOrNow(),\"</div>\\n        </div>\")),$(\".twitter-body .tweet:first-child .time\").tooltip({position:top}),$(\".twitter-body .tweet:first-child\").data(\"data\",e)}$(\"#new-tweet\").on(\"submit\",(function(e){e.preventDefault();var t=$(this).serializeArray(),a={author:\"PleaseWork\",message:t[0].value,time:Date.now()};s.AddData(\"tweets\",a);var o=/\\B@[a-z0-9_-]+/gi,r=a.message.match(o);$.each(r,(function(e,t){a.message=a.message.replace(t,'<span class=\"mention\" data-mention=\"'.concat(t.replace(\"@\",\"\"),'\">').concat(t,\"</span>\"))})),o=/\\B#[a-z0-9_-]+/gi;var i=a.message.match(o);$.each(i,(function(e,t){a.message=a.message.replace(t,'<span class=\"hashtag\" data-hashtag=\"'.concat(t.replace(\"#\",\"\"),'\">').concat(t,\"</span>\"))})),$.post(n.ROOT_ADDRESS+\"/NewTweet\",JSON.stringify({message:t[0].value,time:a.time,mentions:r,hashtags:i}),(function(e){e?(a.author=e.author,q(a),M.Modal.getInstance($(\"#send-tweet-modal\")).close(),$(\"#new-tweet-msg\").val(\"\"),M.toast({html:\"Tweet Sent\"})):M.toast({html:\"Failed Sending Tweet\"})}))})),$(\".twitter-body\").on(\"click\",\".tweet .mention\",(function(){var e=$(this).data(\"mention\");$(\"#new-tweet-msg\").val(\"@\"+e+\" \"),M.Modal.getInstance($(\"#send-tweet-modal\")).open()})),$(\".twitter-body\").on(\"click\",\".author\",(function(){var e=$(this).html();$(\"#new-tweet-msg\").val(\"@\"+e+\" \"),M.Modal.getInstance($(\"#send-tweet-modal\")).open()}));var L={OpenApp:function(){null==(j=s.GetData(\"tweets\"))&&(j=new Array),j.sort(i.DateSortOldest),$(\".twitter-body\").html(\"\"),$.each(j,(function(e,t){q(t)}))},ReceiveNewTweet:function(e){null!=B&&clearTimeout(B),null==j&&(j=s.GetData(\"tweets\")),s.AddData(\"tweets\",e),$(\".twitter-alert-header\").find(\"span\").html(e.author),$(\".twitter-alert-body\").html(e.message),$(\".twitter-alert\").fadeIn(),B=setTimeout((function(){$(\".twitter-alert\").fadeOut(\"normal\",(function(){$(\".twitter-alert-header\").find(\"span\").html(\"\"),$(\".twitter-alert-body\").html(\"\"),B=null}))}),3e3),\"twitter\"===vt.GetCurrentApp()&&q(e)}},F=null;function J(e){$(\"#advert-\".concat(e.id)).length<1?($(\"#ads-body\").prepend('<div class=\"yp-post\" id=\"advert-'.concat(e.id,'\"><div class=\"yp-post-header\"><span class=\"yp-author\">').concat(e.author,'</span><span class=\"yp-phone\">').concat(e.phone,'</span></div><div class=\"yp-post-body\"><div class=\"yp-post-title\">').concat(e.title,'</div><div class=\"yp-post-message\">').concat(e.message,'</div></div><div class=\"yp-post-timestamp\">').concat(moment(e.date).fromNowOrNow(),\"</div></div>\")),$(\"#ads-body .yp-post:first-child\").data(\"advert\",e),W(e)):($(\"#advert-\".concat(e.id)).find(\".yp-post-title\").html(e.title),$(\"#advert-\".concat(e.id)).find(\".yp-post-message\").html(e.message),$(\"#advert-\".concat(e.id)).find(\".yp-post-timestamp\").html(moment(e.date).fromNowOrNow()),$(\"#advert-\".concat(e.id)).data(\"advert\",e),$(\"#advert-\".concat(e.id)).parent().prepend($(\"#advert-\".concat(e.id))),function(e,t){null==F&&(F=s.GetData(\"adverts\"));$.each(F,(function(a,n){n.id!==e||s.UpdateData(\"adverts\",a,t)}))}(e.id,e))}function W(e){s.AddData(\"adverts\",e)}$(\"#ads-search\").on(\"keyup\",\"input\",(function(e){e.preventDefault();var t=$(this).val().toUpperCase();\"\"!==t?$.each($(this).parent().parent().find(\"#ads-body\").find(\".yp-post\"),(function(e,a){var n=$(a).data(\"advert\");n.author.toUpperCase().includes(t)||n.phone.includes(t)||n.title.toUpperCase().includes(t)||n.message.toUpperCase().includes(t)?$(a).fadeIn():$(a).fadeOut()})):$.each($(this).parent().parent().find(\"#ads-body\").children(),(function(e,t){$(t).fadeIn()}))})),$(\"#ads-body\").on(\"click\",\".yp-phone\",(function(e){$(this).html()!=s.GetData(\"myData\").phone&&(vt.OpenApp(\"phone\",null,!1),D.CreateCall($(this).html(),!1,!1))})),$(\"#delete-ad\").on(\"click\",(function(e){$.post(n.ROOT_ADDRESS+\"/DeleteAd\",JSON.stringify({}),(function(){$(\"#ads-body\").find(\".yp-post-owned\").fadeOut(\"normal\",(function(){$(\"#ads-body\").find(\".yp-post-owned\").remove(),M.toast({html:\"Advertisement Deleted\"})})),$(\"#delete-ad\").fadeOut()}))})),$(\"#new-advert\").on(\"submit\",(function(e){e.preventDefault();var t=$(this).serializeArray(),a=s.GetData(\"myData\"),o=Date.now(),r=t[0].value,i=t[1].value;$.post(n.ROOT_ADDRESS+\"/NewAd\",JSON.stringify({date:o,title:r,message:i}),(function(){J({id:a.id,author:a.name,phone:a.phone,date:o,title:r,message:i}),M.Modal.getInstance($(\"#create-advert-modal\")).close(),$(\"#new-advert\").trigger(\"reset\"),$(\"#advert-\".concat(a.id)).addClass(\"yp-post-owned\"),$(\"#delete-ad\").fadeIn(),M.toast({html:\"Advertisement Posted\"})}))}));var Y={OpenApp:function(){var e=s.GetData(\"myData\").phone;(F=s.GetData(\"adverts\")).sort(i.DateSortOldest),$(\"#ads-body\").html(\"\"),$.each(F,(function(t,a){J(a),a.phone==e&&($(\"#ads-body .yp-post:first-child\").addClass(\"yp-post-owned\"),$(\"#delete-ad\").show())}))},ReceiveNewAdvert:function(e){W(e),\"ads\"===vt.GetCurrentApp()&&J(e)},DeleteAdvert:function(e){$(\"#advert-\".concat(e)).length<1&&(\"ads\"===vt.GetCurrentApp()?$(\"#advert-\".concat(e)).fadeOut(\"normal\",(function(){$(\"#advert-\".concat(e)).remove()})):$(\"#advert-\".concat(e)).remove(),function(e){null==F&&(F=s.GetData(\"adverts\")),$.each(F,(function(t,a){a.id!==e||s.RemoveData(\"adverts\",t)}))}(e))}},z=null,H=null;$(\"#quick-custom-open\").on(\"click\",(function(){vt.OpenApp(\"tuner-custom\",null,!1,!0)}));var Q={OpenApp:function(){z=s.GetData(\"factory-tunes\"),H=s.GetData(\"custom-tunes\"),$.each(z,(function(e,t){$(\".tuner-quick-section#factory\").find(\".tuner-quick-buttons\").append('<button type=\"button\" class=\"btn waves-effect waves-light teal darken-4 quick-tune-button\">'.concat(t.label,\"</button>\")),$(\".tuner-quick-section#factory\").find(\".tuner-quick-buttons .quick-tune-button:last-child\").data(\"tune\",t)})),$.each(H,(function(e,t){$(\".tuner-quick-section#custom\").find(\".tuner-quick-buttons\").append('<button type=\"button\" class=\"btn waves-effect waves-light teal darken-4 quick-tune-button\">'.concat(t.label,\"</button>\")),$(\".tuner-quick-section#custom\").find(\".tuner-quick-buttons .quick-tune-button:last-child\").data(\"tune\",t)})),$(\"#tuner-quick\").fadeIn()},CloseApp:function(){$(\"#tuner-quick\").fadeOut(\"normal\",(function(){$(\".tuner-quick-section#factory\").find(\".tuner-quick-buttons\").html(\"\"),$(\".tuner-quick-section#custom\").find(\".tuner-quick-buttons\").html(\"\")}))}};var X={boost:document.getElementById(\"slider-boost\"),throttle:document.getElementById(\"slider-throttle\"),tranny:document.getElementById(\"slider-tranny\"),brakes:document.getElementById(\"slider-brakes\"),dt:document.getElementById(\"slider-dt\")};function Z(e,t){$.each(t,(function(t,a){e.append('\\n            <div class=\"tuner-options\">\\n                <button type=\"button\" class=\"btn waves-effect waves-light teal darken-4 quick-tune-button\">'.concat(a.label,'</button>\\n                <button type=\"button\" class=\"btn waves-effect waves-light materialize-red darken-4 quick-tune-delete\"><i class=\"fas fa-trash-alt\"></i></button>\\n            </div>\\n        ')),$(\"#custom-tunes-popup #generic .tuner-options:last-child\").find(\".quick-tune-button\").data(\"tune\",a)}))}$((function(){for(var e in X){var t=X[e];noUiSlider.create(t,{start:[50],connect:[!0,!1],step:10,orientation:\"horizontal\",range:{min:0,max:100},pips:{mode:\"steps\",stepped:!0,density:10}})}})),$(\"#new-tune\").on(\"submit\",(function(e){e.preventDefault();var t=$(this).serializeArray(),a={label:t[0].value,carOnly:null!=t[1],carModel:null,boost:X.boost.noUiSlider.get(),throttle:X.throttle.noUiSlider.get(),tranny:X.tranny.noUiSlider.get(),brakes:X.brakes.noUiSlider.get(),dt:X.dt.noUiSlider.get()},n=s.GetData(\"custom-tunes\");s.AddData(\"custom-tunes\",{id:n[n.length-1].id+1,label:a.label,carOnly:a.carOnly,carModel:a.carModel,boost:a.boost,throttle:a.throttle,tranny:a.tranny,brakes:a.brakes,dt:a.dt}),M.Modal.getInstance($(\"#save-tune-popup\")).close()})),$(\"#tuner-custom-saved\").on(\"click\",(function(){var e=s.GetData(\"custom-tunes\"),t=s.GetData(\"factory-tunes\");$(\"#custom-tunes-popup\").find(\"#car-only\").html(\"\"),$(\"#custom-tunes-popup\").find(\"#generic\").html(\"\");var a=e.filter((function(e){return e.carOnly&&\"RUINER\"===e.carModel})),n=e.filter((function(e){return!e.carOnly}));a.length>0?Z($(\"#custom-tunes-popup\").find(\"#car-only\"),a):($(\"#tab-car-only\").removeClass(\"active\"),$(\"#tab-generic\").addClass(\"active\"),M.Tabs.getInstance($(\"#custom-tunes-tabs\")).updateTabIndicator());Z($(\"#custom-tunes-popup\").find(\"#generic\"),t),Z($(\"#custom-tunes-popup\").find(\"#generic\"),n),M.Modal.getInstance($(\"#custom-tunes-popup\")).open()})),$(\"#custom-tunes-popup\").on(\"click\",\".quick-tune-button\",(function(e){var t=$(this).data(\"tune\");console.log(t),X.boost.noUiSlider.set(t.boost),X.throttle.noUiSlider.set(t.throttle),X.tranny.noUiSlider.set(t.tranny),X.brakes.noUiSlider.set(t.brakes),X.dt.noUiSlider.set(t.dt),M.toast({html:\"Tune Loaded, Press Apply To Apply It\"}),M.Modal.getInstance($(\"#custom-tunes-popup\")).close()})),$(\"#tuner-custom-quick\").on(\"click\",(function(){vt.OpenApp(\"tuner-quick\",null,!1,!0)})),$(\"#tuner-custom-apply\").on(\"click\",(function(){!function(e){var t=X.boost.noUiSlider.get(),a=X.throttle.noUiSlider.get(),o=X.tranny.noUiSlider.get(),r=X.brakes.noUiSlider.get(),s=X.dt.noUiSlider.get();null!=e&&(t=e.boost,a=e.throttle,o=e.tranny,r=e.brakes,s=e.dt);$.post(n.ROOT_ADDRESS+\"/ApplyTune\",JSON.stringify({boost:t,throttle:a,tranny:o,brakes:r,dt:s}),(function(e){e?M.toast({html:\"Tune Applied\"}):M.toast({html:\"Unable To Apply Tune\"})}))}()}));var V={OpenApp:function(e){null!=e&&console.log(\"woot\"),$(\"#tuner-custom-container .inner-app\").fadeIn()},CloseApp:function(){$(\"#tuner-custom-container .inner-app\").fadeOut()}};var K={OpenApp:function(){$(\"#tuner-legal-container .inner-app\").fadeIn()},CloseApp:function(){$(\"#tuner-legal-container .inner-app\").fadeOut()}},ee={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:\"normal\",autoplay:!0,timelineOffset:0},te={duration:1e3,delay:0,endDelay:0,easing:\"easeOutElastic(1, .5)\",round:0},ae=[\"translateX\",\"translateY\",\"translateZ\",\"rotate\",\"rotateX\",\"rotateY\",\"rotateZ\",\"scale\",\"scaleX\",\"scaleY\",\"scaleZ\",\"skew\",\"skewX\",\"skewY\",\"perspective\"],ne={CSS:{},springs:{}};function oe(e,t,a){return Math.min(Math.max(e,t),a)}function re(e,t){return e.indexOf(t)>-1}function se(e,t){return e.apply(null,t)}var ie={arr:function(e){return Array.isArray(e)},obj:function(e){return re(Object.prototype.toString.call(e),\"Object\")},pth:function(e){return ie.obj(e)&&e.hasOwnProperty(\"totalLength\")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||ie.svg(e)},str:function(e){return\"string\"==typeof e},fnc:function(e){return\"function\"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return ie.hex(e)||ie.rgb(e)||ie.hsl(e)},key:function(e){return!ee.hasOwnProperty(e)&&!te.hasOwnProperty(e)&&\"targets\"!==e&&\"keyframes\"!==e}};function ce(e){var t=/\\(([^)]+)\\)/.exec(e);return t?t[1].split(\",\").map((function(e){return parseFloat(e)})):[]}function le(e,t){var a=ce(e),n=oe(ie.und(a[0])?1:a[0],.1,100),o=oe(ie.und(a[1])?100:a[1],.1,100),r=oe(ie.und(a[2])?10:a[2],.1,100),s=oe(ie.und(a[3])?0:a[3],.1,100),i=Math.sqrt(o/n),c=r/(2*Math.sqrt(o*n)),l=c<1?i*Math.sqrt(1-c*c):0,d=1,u=c<1?(c*i-s)/l:-s+i;function p(e){var a=t?t*e/1e3:e;return a=c<1?Math.exp(-a*c*i)*(d*Math.cos(l*a)+u*Math.sin(l*a)):(d+u*a)*Math.exp(-a*i),0===e||1===e?e:1-a}return t?p:function(){var t=ne.springs[e];if(t)return t;for(var a=0,n=0;;)if(1===p(a+=1/6)){if(++n>=16)break}else n=0;var o=a*(1/6)*1e3;return ne.springs[e]=o,o}}function de(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var ue,pe,me=function(){var e=11,t=1/(e-1);function a(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function o(e){return 3*e}function r(e,t,r){return((a(t,r)*e+n(t,r))*e+o(t))*e}function s(e,t,r){return 3*a(t,r)*e*e+2*n(t,r)*e+o(t)}return function(a,n,o,i){if(0<=a&&a<=1&&0<=o&&o<=1){var c=new Float32Array(e);if(a!==n||o!==i)for(var l=0;l<e;++l)c[l]=r(l*t,a,o);return function(e){return a===n&&o===i?e:0===e||1===e?e:r(d(e),n,i)}}function d(n){for(var i=0,l=1,d=e-1;l!==d&&c[l]<=n;++l)i+=t;var u=i+(n-c[--l])/(c[l+1]-c[l])*t,p=s(u,a,o);return p>=.001?function(e,t,a,n){for(var o=0;o<4;++o){var i=s(t,a,n);if(0===i)return t;t-=(r(t,a,n)-e)/i}return t}(n,u,a,o):0===p?u:function(e,t,a,n,o){var s,i,c=0;do{(s=r(i=t+(a-t)/2,n,o)-e)>0?a=i:t=i}while(Math.abs(s)>1e-7&&++c<10);return i}(n,i,i+t,a,o)}}}(),fe=(ue={linear:function(){return function(e){return e}}},pe={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,a=4;e<((t=Math.pow(2,--a))-1)/11;);return 1/Math.pow(4,3-a)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var a=oe(e,1,10),n=oe(t,.1,2);return function(e){return 0===e||1===e?e:-a*Math.pow(2,10*(e-1))*Math.sin((e-1-n/(2*Math.PI)*Math.asin(1/a))*(2*Math.PI)/n)}}},[\"Quad\",\"Cubic\",\"Quart\",\"Quint\",\"Expo\"].forEach((function(e,t){pe[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(pe).forEach((function(e){var t=pe[e];ue[\"easeIn\"+e]=t,ue[\"easeOut\"+e]=function(e,a){return function(n){return 1-t(e,a)(1-n)}},ue[\"easeInOut\"+e]=function(e,a){return function(n){return n<.5?t(e,a)(2*n)/2:1-t(e,a)(-2*n+2)/2}}})),ue);function ve(e,t){if(ie.fnc(e))return e;var a=e.split(\"(\")[0],n=fe[a],o=ce(e);switch(a){case\"spring\":return le(e,t);case\"cubicBezier\":return se(me,o);case\"steps\":return se(de,o);default:return se(n,o)}}function he(e){try{return document.querySelectorAll(e)}catch(e){return}}function ge(e,t){for(var a=e.length,n=arguments.length>=2?arguments[1]:void 0,o=[],r=0;r<a;r++)if(r in e){var s=e[r];t.call(n,s,r,e)&&o.push(s)}return o}function $e(e){return e.reduce((function(e,t){return e.concat(ie.arr(t)?$e(t):t)}),[])}function be(e){return ie.arr(e)?e:(ie.str(e)&&(e=he(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function ye(e,t){return e.some((function(e){return e===t}))}function ke(e){var t={};for(var a in e)t[a]=e[a];return t}function we(e,t){var a=ke(e);for(var n in e)a[n]=t.hasOwnProperty(n)?t[n]:e[n];return a}function Oe(e,t){var a=ke(e);for(var n in t)a[n]=ie.und(e[n])?t[n]:e[n];return a}function De(e){return ie.rgb(e)?(a=/rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(t=e))?\"rgba(\"+a[1]+\",1)\":t:ie.hex(e)?function(e){var t=e.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,(function(e,t,a,n){return t+t+a+a+n+n})),a=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(t);return\"rgba(\"+parseInt(a[1],16)+\",\"+parseInt(a[2],16)+\",\"+parseInt(a[3],16)+\",1)\"}(e):ie.hsl(e)?function(e){var t,a,n,o=/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(e)||/hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(e),r=parseInt(o[1],10)/360,s=parseInt(o[2],10)/100,i=parseInt(o[3],10)/100,c=o[4]||1;function l(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}if(0==s)t=a=n=i;else{var d=i<.5?i*(1+s):i+s-i*s,u=2*i-d;t=l(u,d,r+1/3),a=l(u,d,r),n=l(u,d,r-1/3)}return\"rgba(\"+255*t+\",\"+255*a+\",\"+255*n+\",\"+c+\")\"}(e):void 0;var t,a}function Ce(e){var t=/[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function Ae(e,t){return ie.fnc(e)?e(t.target,t.id,t.total):e}function Se(e,t){return e.getAttribute(t)}function Me(e,t,a){if(ye([a,\"deg\",\"rad\",\"turn\"],Ce(t)))return t;var n=ne.CSS[t+a];if(!ie.und(n))return n;var o=document.createElement(e.tagName),r=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;r.appendChild(o),o.style.position=\"absolute\",o.style.width=100+a;var s=100/o.offsetWidth;r.removeChild(o);var i=s*parseFloat(t);return ne.CSS[t+a]=i,i}function xe(e,t,a){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase(),o=e.style[t]||getComputedStyle(e).getPropertyValue(n)||\"0\";return a?Me(e,o,a):o}}function Re(e,t){return ie.dom(e)&&!ie.inp(e)&&(Se(e,t)||ie.svg(e)&&e[t])?\"attribute\":ie.dom(e)&&ye(ae,t)?\"transform\":ie.dom(e)&&\"transform\"!==t&&xe(e,t)?\"css\":null!=e[t]?\"object\":void 0}function Ne(e){if(ie.dom(e)){for(var t,a=e.style.transform||\"\",n=/(\\w+)\\(([^)]*)\\)/g,o=new Map;t=n.exec(a);)o.set(t[1],t[2]);return o}}function Te(e,t,a,n){var o=re(t,\"scale\")?1:0+function(e){return re(e,\"translate\")||\"perspective\"===e?\"px\":re(e,\"rotate\")||re(e,\"skew\")?\"deg\":void 0}(t),r=Ne(e).get(t)||o;return a&&(a.transforms.list.set(t,r),a.transforms.last=t),n?Me(e,r,n):r}function Ie(e,t,a,n){switch(Re(e,t)){case\"transform\":return Te(e,t,n,a);case\"css\":return xe(e,t,a);case\"attribute\":return Se(e,t);default:return e[t]||0}}function Ue(e,t){var a=/^(\\*=|\\+=|-=)/.exec(e);if(!a)return e;var n=Ce(e)||0,o=parseFloat(t),r=parseFloat(e.replace(a[0],\"\"));switch(a[0][0]){case\"+\":return o+r+n;case\"-\":return o-r+n;case\"*\":return o*r+n}}function Ee(e,t){if(ie.col(e))return De(e);if(/\\s/g.test(e))return e;var a=Ce(e),n=a?e.substr(0,e.length-a.length):e;return t?n+t:n}function Ge(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Pe(e){for(var t,a=e.points,n=0,o=0;o<a.numberOfItems;o++){var r=a.getItem(o);o>0&&(n+=Ge(t,r)),t=r}return n}function _e(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case\"circle\":return function(e){return 2*Math.PI*Se(e,\"r\")}(e);case\"rect\":return function(e){return 2*Se(e,\"width\")+2*Se(e,\"height\")}(e);case\"line\":return function(e){return Ge({x:Se(e,\"x1\"),y:Se(e,\"y1\")},{x:Se(e,\"x2\"),y:Se(e,\"y2\")})}(e);case\"polyline\":return Pe(e);case\"polygon\":return function(e){var t=e.points;return Pe(e)+Ge(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function je(e,t){var a=t||{},n=a.el||function(e){for(var t=e.parentNode;ie.svg(t)&&ie.svg(t.parentNode);)t=t.parentNode;return t}(e),o=n.getBoundingClientRect(),r=Se(n,\"viewBox\"),s=o.width,i=o.height,c=a.viewBox||(r?r.split(\" \"):[0,0,s,i]);return{el:n,viewBox:c,x:c[0]/1,y:c[1]/1,w:s/c[2],h:i/c[3]}}function Be(e,t){function a(a){void 0===a&&(a=0);var n=t+a>=1?t+a:0;return e.el.getPointAtLength(n)}var n=je(e.el,e.svg),o=a(),r=a(-1),s=a(1);switch(e.property){case\"x\":return(o.x-n.x)*n.w;case\"y\":return(o.y-n.y)*n.h;case\"angle\":return 180*Math.atan2(s.y-r.y,s.x-r.x)/Math.PI}}function qe(e,t){var a=/[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g,n=Ee(ie.pth(e)?e.totalLength:e,t)+\"\";return{original:n,numbers:n.match(a)?n.match(a).map(Number):[0],strings:ie.str(e)||t?n.split(a):[]}}function Le(e){return ge(e?$e(ie.arr(e)?e.map(be):be(e)):[],(function(e,t,a){return a.indexOf(e)===t}))}function Fe(e){var t=Le(e);return t.map((function(e,a){return{target:e,id:a,total:t.length,transforms:{list:Ne(e)}}}))}function Je(e,t){var a=ke(t);if(/^spring/.test(a.easing)&&(a.duration=le(a.easing)),ie.arr(e)){var n=e.length;2===n&&!ie.obj(e[0])?e={value:e}:ie.fnc(t.duration)||(a.duration=t.duration/n)}var o=ie.arr(e)?e:[e];return o.map((function(e,a){var n=ie.obj(e)&&!ie.pth(e)?e:{value:e};return ie.und(n.delay)&&(n.delay=a?0:t.delay),ie.und(n.endDelay)&&(n.endDelay=a===o.length-1?t.endDelay:0),n})).map((function(e){return Oe(e,a)}))}function We(e,t){var a=[],n=t.keyframes;for(var o in n&&(t=Oe(function(e){for(var t=ge($e(e.map((function(e){return Object.keys(e)}))),(function(e){return ie.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),a={},n=function(n){var o=t[n];a[o]=e.map((function(e){var t={};for(var a in e)ie.key(a)?a==o&&(t.value=e[a]):t[a]=e[a];return t}))},o=0;o<t.length;o++)n(o);return a}(n),t)),t)ie.key(o)&&a.push({name:o,tweens:Je(t[o],e)});return a}function Ye(e,t){var a;return e.tweens.map((function(n){var o=function(e,t){var a={};for(var n in e){var o=Ae(e[n],t);ie.arr(o)&&1===(o=o.map((function(e){return Ae(e,t)}))).length&&(o=o[0]),a[n]=o}return a.duration=parseFloat(a.duration),a.delay=parseFloat(a.delay),a}(n,t),r=o.value,s=ie.arr(r)?r[1]:r,i=Ce(s),c=Ie(t.target,e.name,i,t),l=a?a.to.original:c,d=ie.arr(r)?r[0]:l,u=Ce(d)||Ce(c),p=i||u;return ie.und(s)&&(s=l),o.from=qe(d,p),o.to=qe(Ue(s,d),p),o.start=a?a.end:0,o.end=o.start+o.delay+o.duration+o.endDelay,o.easing=ve(o.easing,o.duration),o.isPath=ie.pth(r),o.isColor=ie.col(o.from.original),o.isColor&&(o.round=1),a=o,o}))}var ze={css:function(e,t,a){return e.style[t]=a},attribute:function(e,t,a){return e.setAttribute(t,a)},object:function(e,t,a){return e[t]=a},transform:function(e,t,a,n,o){if(n.list.set(t,a),t===n.last||o){var r=\"\";n.list.forEach((function(e,t){r+=t+\"(\"+e+\") \"})),e.style.transform=r}}};function He(e,t){Fe(e).forEach((function(e){for(var a in t){var n=Ae(t[a],e),o=e.target,r=Ce(n),s=Ie(o,a,r,e),i=Ue(Ee(n,r||Ce(s)),s),c=Re(o,a);ze[c](o,a,i,e.transforms,!0)}}))}function Qe(e,t){return ge($e(e.map((function(e){return t.map((function(t){return function(e,t){var a=Re(e.target,t.name);if(a){var n=Ye(t,e),o=n[n.length-1];return{type:a,property:t.name,animatable:e,tweens:n,duration:o.end,delay:n[0].delay,endDelay:o.endDelay}}}(e,t)}))}))),(function(e){return!ie.und(e)}))}function Xe(e,t){var a=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},o={};return o.duration=a?Math.max.apply(Math,e.map((function(e){return n(e)+e.duration}))):t.duration,o.delay=a?Math.min.apply(Math,e.map((function(e){return n(e)+e.delay}))):t.delay,o.endDelay=a?o.duration-Math.max.apply(Math,e.map((function(e){return n(e)+e.duration-e.endDelay}))):t.endDelay,o}var Ze=0;var Ve,Ke=[],et=[],tt=function(){function e(){Ve=requestAnimationFrame(t)}function t(t){var a=Ke.length;if(a){for(var n=0;n<a;){var o=Ke[n];if(o.paused){var r=Ke.indexOf(o);r>-1&&(Ke.splice(r,1),a=Ke.length)}else o.tick(t);n++}e()}else Ve=cancelAnimationFrame(Ve)}return e}();function at(e){void 0===e&&(e={});var t,a=0,n=0,o=0,r=0,s=null;function i(e){var t=window.Promise&&new Promise((function(e){return s=e}));return e.finished=t,t}var c=function(e){var t=we(ee,e),a=we(te,e),n=We(a,e),o=Fe(e.targets),r=Qe(o,n),s=Xe(r,a),i=Ze;return Ze++,Oe(t,{id:i,children:[],animatables:o,animations:r,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}(e);i(c);function l(){var e=c.direction;\"alternate\"!==e&&(c.direction=\"normal\"!==e?\"normal\":\"reverse\"),c.reversed=!c.reversed,t.forEach((function(e){return e.reversed=c.reversed}))}function d(e){return c.reversed?c.duration-e:e}function u(){a=0,n=d(c.currentTime)*(1/at.speed)}function p(e,t){t&&t.seek(e-t.timelineOffset)}function m(e){for(var t=0,a=c.animations,n=a.length;t<n;){var o=a[t],r=o.animatable,s=o.tweens,i=s.length-1,l=s[i];i&&(l=ge(s,(function(t){return e<t.end}))[0]||l);for(var d=oe(e-l.start-l.delay,0,l.duration)/l.duration,u=isNaN(d)?1:l.easing(d),p=l.to.strings,m=l.round,f=[],v=l.to.numbers.length,h=void 0,g=0;g<v;g++){var $=void 0,b=l.to.numbers[g],y=l.from.numbers[g]||0;$=l.isPath?Be(l.value,u*b):y+u*(b-y),m&&(l.isColor&&g>2||($=Math.round($*m)/m)),f.push($)}var k=p.length;if(k){h=p[0];for(var w=0;w<k;w++){p[w];var O=p[w+1],D=f[w];isNaN(D)||(h+=O?D+O:D+\" \")}}else h=f[0];ze[o.type](r.target,o.property,h,r.transforms),o.currentValue=h,t++}}function f(e){c[e]&&!c.passThrough&&c[e](c)}function v(e){var u=c.duration,v=c.delay,h=u-c.endDelay,g=d(e);c.progress=oe(g/u*100,0,100),c.reversePlayback=g<c.currentTime,t&&function(e){if(c.reversePlayback)for(var a=r;a--;)p(e,t[a]);else for(var n=0;n<r;n++)p(e,t[n])}(g),!c.began&&c.currentTime>0&&(c.began=!0,f(\"begin\")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,f(\"loopBegin\")),g<=v&&0!==c.currentTime&&m(0),(g>=h&&c.currentTime!==u||!u)&&m(u),g>v&&g<h?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,f(\"changeBegin\")),f(\"change\"),m(g)):c.changeBegan&&(c.changeCompleted=!0,c.changeBegan=!1,f(\"changeComplete\")),c.currentTime=oe(g,0,u),c.began&&f(\"update\"),e>=u&&(n=0,c.remaining&&!0!==c.remaining&&c.remaining--,c.remaining?(a=o,f(\"loopComplete\"),c.loopBegan=!1,\"alternate\"===c.direction&&l()):(c.paused=!0,c.completed||(c.completed=!0,f(\"loopComplete\"),f(\"complete\"),!c.passThrough&&\"Promise\"in window&&(s(),i(c)))))}return c.reset=function(){var e=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed=\"reverse\"===e,c.remaining=c.loop,t=c.children;for(var a=r=t.length;a--;)c.children[a].reset();(c.reversed&&!0!==c.loop||\"alternate\"===e&&1===c.loop)&&c.remaining++,m(c.reversed?c.duration:0)},c.set=function(e,t){return He(e,t),c},c.tick=function(e){o=e,a||(a=o),v((o+(n-a))*at.speed)},c.seek=function(e){v(d(e))},c.pause=function(){c.paused=!0,u()},c.play=function(){c.paused&&(c.completed&&c.reset(),c.paused=!1,Ke.push(c),u(),Ve||tt())},c.reverse=function(){l(),u()},c.restart=function(){c.reset(),c.play()},c.reset(),c.autoplay&&c.play(),c}function nt(e,t){for(var a=t.length;a--;)ye(e,t[a].animatable.target)&&t.splice(a,1)}\"undefined\"!=typeof document&&document.addEventListener(\"visibilitychange\",(function(){document.hidden?(Ke.forEach((function(e){return e.pause()})),et=Ke.slice(0),at.running=Ke=[]):et.forEach((function(e){return e.play()}))})),at.version=\"3.1.0\",at.speed=1,at.running=Ke,at.remove=function(e){for(var t=Le(e),a=Ke.length;a--;){var n=Ke[a],o=n.animations,r=n.children;nt(t,o);for(var s=r.length;s--;){var i=r[s],c=i.animations;nt(t,c),c.length||i.children.length||r.splice(s,1)}o.length||r.length||n.pause()}},at.get=Ie,at.set=He,at.convertPx=Me,at.path=function(e,t){var a=ie.str(e)?he(e)[0]:e,n=t||100;return function(e){return{property:e,el:a,svg:je(a),totalLength:_e(a)*(n/100)}}},at.setDashoffset=function(e){var t=_e(e);return e.setAttribute(\"stroke-dasharray\",t),t},at.stagger=function(e,t){void 0===t&&(t={});var a=t.direction||\"normal\",n=t.easing?ve(t.easing):null,o=t.grid,r=t.axis,s=t.from||0,i=\"first\"===s,c=\"center\"===s,l=\"last\"===s,d=ie.arr(e),u=d?parseFloat(e[0]):parseFloat(e),p=d?parseFloat(e[1]):0,m=Ce(d?e[1]:e)||0,f=t.start||0+(d?u:0),v=[],h=0;return function(e,t,g){if(i&&(s=0),c&&(s=(g-1)/2),l&&(s=g-1),!v.length){for(var $=0;$<g;$++){if(o){var b=c?(o[0]-1)/2:s%o[0],y=c?(o[1]-1)/2:Math.floor(s/o[0]),k=b-$%o[0],w=y-Math.floor($/o[0]),O=Math.sqrt(k*k+w*w);\"x\"===r&&(O=-k),\"y\"===r&&(O=-w),v.push(O)}else v.push(Math.abs(s-$));h=Math.max.apply(Math,v)}n&&(v=v.map((function(e){return n(e/h)*h}))),\"reverse\"===a&&(v=v.map((function(e){return r?e<0?-1*e:-e:Math.abs(h-e)})))}return f+(d?(p-u)/h:u)*(Math.round(100*v[t])/100)+m}},at.timeline=function(e){void 0===e&&(e={});var t=at(e);return t.duration=0,t.add=function(a,n){var o=Ke.indexOf(t),r=t.children;function s(e){e.passThrough=!0}o>-1&&Ke.splice(o,1);for(var i=0;i<r.length;i++)s(r[i]);var c=Oe(a,we(te,e));c.targets=c.targets||e.targets;var l=t.duration;c.autoplay=!1,c.direction=t.direction,c.timelineOffset=ie.und(n)?l:Ue(n,l),s(t),t.seek(c.timelineOffset);var d=at(c);s(d),r.push(d);var u=Xe(r,e);return t.delay=u.delay,t.endDelay=u.endDelay,t.duration=u.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},at.easing=ve,at.penner=fe,at.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var ot=null;$(\".tuner-nav\").on(\"click\",(function(e){if(!$(this).data(\"disabled\")){var t=$(this).data(\"section\");vt.OpenApp(\"tuner-\".concat(t),null,!1,!0)}})),$(\"#no-chip-quit\").on(\"click\",(function(){vt.GoBack()}));var rt={OpenApp:function(e){e?$(\"#tuner-home-screen\").fadeIn(\"normal\"):$(\".no-chip-error\").show(\"scale\",(function(){$(\".tuner-nav\").data(\"disabled\",!0)}))},CloseApp:function(){clearTimeout(ot),$(\".no-chip-error\").hide(),$(\".tuner-nav\").removeData(\"disabled\"),$(\"#tuner-home-screen\").fadeOut(\"normal\")},Quick:Q,Custom:V,Legal:K},st={PlayerDetails:{id:199,name:\"Please Work\",phone:\"111-111-1111\"},Contacts:[{name:\"Dickhole\",number:\"555-555-5556\"},{name:\"Contact 1\",number:\"555-555-5555\"},{name:\"ABC\",number:\"155-555-5555\"}],Messages:[{sender:\"111-111-1111\",receiver:\"555-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"555-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"555-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"555-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"555-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"333-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"333-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0},{sender:\"111-111-1111\",receiver:\"333-555-5555\",message:\"Fuck You\",sent_time:1566263235e3,isRead:0,owner:0}],Calls:[{id:1,sender:\"111-111-1111\",receiver:\"333-555-5555\",time:1566163235e3,status:0,anon:0},{id:2,sender:\"111-111-1111\",receiver:\"555-555-5555\",time:1566263235e3,status:1,anon:0},{id:3,sender:\"111-111-1111\",receiver:\"555-555-5555\",time:1566263235e3,status:2,anon:0},{id:4,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:0,anon:0},{id:5,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:1,anon:0},{id:6,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:2,anon:0},{id:7,sender:\"111-111-1111\",receiver:\"555-555-5555\",time:1566163235e3,status:0,anon:1},{id:8,sender:\"111-111-1111\",receiver:\"555-555-5555\",time:1566263235e3,status:1,anon:1},{id:9,sender:\"111-111-1111\",receiver:\"555-555-5555\",time:1566263235e3,status:2,anon:1},{id:10,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:0,anon:1},{id:11,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:1,anon:1},{id:12,sender:\"555-555-5555\",receiver:\"111-111-1111\",time:1566263235e3,status:2,anon:1}],Tweets:[{author:\"PleaseWork199\",message:\"@HiThere1 SUP BRO\",time:1562263235e3},{author:\"PleaseWork199\",message:\"asdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;aasdfasdfasdfasdfa;sdjk;fakjdf;a1\",time:1566263235e3},{author:\"PleaseWork199\",message:\"Please Work 199\",time:1566263235e3},{author:\"PleaseWork199\",message:\"Please Work 199\",time:1566263235e3},{author:\"PleaseWork199\",message:\"Please Work 199\",time:1566263235e3},{author:\"PleaseWork199\",message:\"Please Work 199\",time:1566263235e3}],Adverts:[{author:\"sdf Work\",phone:\"111-111-1111\",date:1516263235e3,title:\"Advert Title\",message:\"This Is An Advert Lol\"},{author:\"Test Work\",phone:\"555-555-5555\",date:1566263235e3,title:\"Advert Title\",message:\"This Is An Advert Lol\"},{author:\"Rawr Work\",phone:\"555-555-5555\",date:1566263235e3,title:\"Advert Title\",message:\"This Is An Advert Lol\"}],FactoryTunes:[{label:\"Sport\",boost:100,throttle:100,tranny:100,brakes:100,dt:100}],Tunes:[{id:1,label:\"Generic 1\",carOnly:!1,carModel:null,boost:10,throttle:20,tranny:30,brakes:40,dt:50},{id:2,label:\"Generic 2\",carOnly:!1,carModel:null,boost:100,throttle:90,tranny:80,brakes:70,dt:60},{id:3,label:\"Generic 3\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:4,label:\"Generic 4\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:5,label:\"Generic 5\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:6,label:\"Generic 6\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:7,label:\"Generic 7\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:8,label:\"Generic 8\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:9,label:\"Generic 9\",carOnly:!1,carModel:null,boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:10,label:\"Ruiner 1\",carOnly:!0,carModel:\"RUINER\",boost:10,throttle:20,tranny:30,brakes:40,dt:50},{id:11,label:\"Ruiner 2\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:90,tranny:80,brakes:70,dt:60},{id:12,label:\"Ruiner 3\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:13,label:\"Ruiner 4\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:14,label:\"Ruiner 5\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:15,label:\"Ruiner 6\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:16,label:\"Ruiner 7\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:17,label:\"Ruiner 8\",carOnly:!0,carModel:\"RUINER\",boost:100,throttle:100,tranny:100,brakes:100,dt:100},{id:18,label:\"LWGTR 1\",carOnly:!0,carModel:\"LWGTR\",boost:100,throttle:100,tranny:100,brakes:100,dt:100}]},it=[{app:null,data:null,fade:null}],ct=!1;function lt(){$.post(n.ROOT_ADDRESS+\"/ClosePhone\",JSON.stringify({})),$(\".wrapper\").hide(\"slide\",{direction:\"down\"},500,(function(){$(\"#toast-container\").remove(),$(\".material-tooltip\").remove(),$(\".app-container\").hide(),it=[{app:null,data:null,fade:null}]}))}function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];0!=$(\"#\"+e+\"-container\").length&&0!=it.length&&it[it.length-1].app!==e&&($(\".active-container\").length>0?n?($(\".active-container\").hide(),$(\".active-container\").removeClass(\"active-container\"),$(\"#\"+e+\"-container\").show(),$(\"#\"+e+\"-container\").addClass(\"active-container\"),pt(it[it.length-1].app),a&&(it.pop(),n=it[it.length-1].fade,it.pop()),it.push({app:e,data:t,fade:n}),$(\".material-tooltip\").remove(),ut(e,t)):$(\".active-container\").fadeOut(\"fast\",(function(){$(\".active-container\").removeClass(\"active-container\"),$(\"#\"+e+\"-container\").fadeIn(\"fast\",(function(){$(\".active-container\").removeClass(\"active-container\"),$(\"#\"+e+\"-container\").addClass(\"active-container\"),pt(it[it.length-1].app),a&&(it.pop(),it.pop()),it.push({app:e,data:t,fade:n})})),$(\".material-tooltip\").remove(),ut(e,t)})):($(\"#\"+e+\"-container\").fadeIn(\"fast\",(function(){$(\".active-container\").removeClass(\"active-container\"),$(\"#\"+e+\"-container\").addClass(\"active-container\"),pt(it[it.length-1].app),a&&(it.pop(),it.pop()),it.push({app:e,data:t,fade:n})})),$(\".material-tooltip\").remove(),ut(e,t)))}function ut(e,t){switch(e){case\"home\":l.OpenApp();break;case\"contacts\":x.OpenApp();break;case\"message\":_.OpenApp(),_.SetupNewMessage();break;case\"message-convo\":_.Convo.OpenApp(t);break;case\"phone\":D.OpenApp();break;case\"phone-call\":D.Call.OpenApp(t);break;case\"twitter\":L.OpenApp();break;case\"ads\":Y.OpenApp();break;case\"tuner\":rt.OpenApp(!0);break;case\"tuner-quick\":rt.Quick.OpenApp();break;case\"tuner-custom\":rt.Custom.OpenApp();break;case\"tuner-legal\":rt.Legal.OpenApp()}}function pt(e){switch(e){case\"message-convo\":_.Convo.CloseApp();break;case\"phone-call\":D.Call.CloseApp();break;case\"tuner\":rt.CloseApp();break;case\"tuner-quick\":rt.Quick.CloseApp();break;case\"tuner-custom\":rt.Custom.CloseApp();break;case\"tuner-legal\":rt.Legal.CloseApp()}}function mt(){it.length>1&&\"home\"!==it[it.length-1].app&&dt(\"home\")}function ft(){\"home\"!==it[it.length-1].app&&(it.length>1?dt(it[it.length-2].app,it[it.length-2].data,!0,it[it.length-1].fade):mt())}moment.fn.fromNowOrNow=function(e){return Math.abs(moment().diff(this))<6e4?\"just now\":this.fromNow(e)},$((function(){$(\".wrapper\").fadeIn(),s.ClearData(),s.SetupData([{name:\"myData\",data:st.PlayerDetails},{name:\"contacts\",data:st.Contacts},{name:\"messages\",data:st.Messages},{name:\"history\",data:st.Calls},{name:\"apps\",data:n.Apps},{name:\"muted\",data:!1},{name:\"tweets\",data:st.Tweets},{name:\"adverts\",data:st.Adverts},{name:\"factory-tunes\",data:st.FactoryTunes},{name:\"custom-tunes\",data:st.Tunes}]),dt(\"home\",null,!0)})),window.addEventListener(\"message\",(function(e){switch(e.data.action){case\"setup\":s.SetupData(e.data.data);break;case\"show\":$(\".wrapper\").show(\"slide\",{direction:\"down\"},500),D.Call.IsCallPending()?(it=[{app:\"home\",data:null,fade:!1}],dt(\"phone-call\",{number:e.data.number,receiver:!e.data.initiator},!1)):dt(\"home\",null,!0);break;case\"hide\":lt();break;case\"logout\":s.ClearData();break;case\"setmute\":i.SetMute(e.data.muted);break;case\"updateTime\":i.UpdateClock(e.data.time);break;case\"updateUnread\":l.UpdateUnread(e.data.app,e.data.unread);break;case\"receiveText\":_.Convo.ReceiveText(e.data.data.sender,e.data.data.text);break;case\"receiveCall\":dt(\"phone-call\",{number:e.data.number,receiver:!0},!1);break;case\"acceptCallSender\":case\"acceptCallReceiver\":D.Call.CallAnswered();break;case\"endCall\":D.Call.CallHungUp();break;case\"ReceiveNewTweet\":L.ReceiveNewTweet(e.data.tweet)}})),$(document).ready((function(){$(\".modal\").modal(),$(\".dropdown-trigger\").dropdown({constrainWidth:!1}),$(\".tabs\").tabs(),$(\".char-count-input\").characterCounter(),$(\".phone-number\").mask(\"000-000-0000\",{placeholder:\"###-###-####\"})})),$((function(){document.onkeyup=function(e){114!=e.which&&27!=e.which||lt()}})),$(\".phone-header\").on(\"click\",\".in-call\",(function(e){\"phone-call\"!=it[it.length-1].app&&dt(\"phone-call\",null,!1)})),$(\".back-button\").on(\"click\",(function(e){ct||(ft(),ct=!0,setTimeout((function(){ct=!1}),500))})),$(\".home-button\").on(\"click\",(function(e){ct||(mt(),ct=!0,setTimeout((function(){ct=!1}),500))})),$(\".close-button\").on(\"click\",(function(e){lt()})),$(\"#remove-sim-card\").on(\"click\",(function(e){M.Modal.getInstance($(\"#remove-sim-conf\")).close(),i.NotifyAltSim(!1),M.toast({html:\"Sim Removed\"})})),$(\".mute\").on(\"click\",(function(e){var t=s.GetData(\"muted\");i.SetMute(!t)}));var vt=t.default={GoHome:mt,GoBack:ft,OpenApp:dt,RefreshApp:function(){$(\".material-tooltip\").remove(),ut(it[it.length-1].app,it[it.length-1].data)},GetCurrentApp:function(){return it[it.length-1].app}}}]);","extractedComments":[]}